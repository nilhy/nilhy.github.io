<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>nilhy&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/5e6cf909d1f5d13202195966dda24edc</icon>
  <subtitle>ä¸ªäººåšå®¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://nilhy.cn/"/>
  <updated>2019-04-19T13:43:39.000Z</updated>
  <id>http://nilhy.cn/</id>
  
  <author>
    <name>nilhy</name>
    <email>coderhaiyang@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mac ä¸Šé…ç½® aria2 åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•</title>
    <link href="http://nilhy.cn/2019/04/18/aria2.html"/>
    <id>http://nilhy.cn/2019/04/18/aria2.html</id>
    <published>2019-04-18T13:21:21.000Z</published>
    <updated>2019-04-19T13:43:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mac-ä¸Šé…ç½®-aria2-åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•"><a href="#mac-ä¸Šé…ç½®-aria2-åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•" class="headerlink" title="mac ä¸Šé…ç½® aria2 åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•"></a>mac ä¸Šé…ç½® aria2 åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•</h2><p><img src="https://blog-resources-1256752477.cos.ap-guangzhou.myqcloud.com/images/20190418211539.jpg" alt></p><blockquote><p>ä½œä¸º<code>mac</code> ç”¨æˆ·,å—å¤Ÿäº†å„ç§ä¸‹è½½é™é€Ÿï¼Œæµè§ˆå™¨è‡ªå¸¦çš„ä¸‹è½½å™¨æä¸ºè›‹ç–¼ï¼Œä¸å¦‚èŠ±ç‚¹æ—¶é—´æ¥é…ç½® <code>aria2</code>ï¼Œç»“åˆ <code>Chrome</code> æ’ä»¶é…ç½®ä¹‹å,çœŸé¦™!</p></blockquote><h2 id="aria2-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#aria2-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="aria2 æ˜¯ä»€ä¹ˆï¼Ÿ"></a>aria2 æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>aria2</code> æ˜¯ä¸€æ¬¾æ”¯æŒå¤šç§åè®®çš„è½»é‡çº§å‘½ä»¤è¡Œä¸‹è½½å·¥å…·ã€‚æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>å¤šçº¿ç¨‹è¿çº¿ï¼š<code>aria2</code> ä¼šè‡ªåŠ¨ä»å¤šä¸ªçº¿ç¨‹ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶å……åˆ†åˆ©ç”¨ä½ çš„å¸¦å®½ã€‚</li><li>è½»é‡ï¼šè¿è¡Œæ—¶ä¸ä¼šå ç”¨è¿‡å¤šèµ„æºï¼Œæ ¹æ®å®˜æ–¹ä»‹ç»ï¼Œå†…å­˜å ç”¨é€šå¸¸åœ¨ <code>4MB~9MB</code> ï¼Œä½¿ç”¨ <code>BitTorrent</code> åè®®ï¼Œä¸‹è¡Œé€Ÿåº¦ <code>2.8MB/s</code> æ—¶ <code>CPU</code> å ç”¨ç‡çº¦ <code>6%</code> ã€‚</li><li>å…¨åŠŸèƒ½ <code>BitTorrent</code> å®¢æˆ·ç«¯ã€‚</li><li>æ”¯æŒ <code>RPC</code> ç•Œé¢è¿œç¨‹æ§åˆ¶ã€‚</li></ul><a id="more"></a><h2 id="å®‰è£…-Homebrew"><a href="#å®‰è£…-Homebrew" class="headerlink" title="å®‰è£… Homebrew"></a>å®‰è£… Homebrew</h2><p>ç”±äºæ˜¯ä½¿ç”¨ <code>Homebrew</code> æ–¹å¼å®‰è£…ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£… <code>Homebrew</code> ï¼Œå·²ç»è£…è¿‡äº†å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ï¼Œç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e <span class="string">"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-aria2"><a href="#å®‰è£…-aria2" class="headerlink" title="å®‰è£… aria2"></a>å®‰è£… aria2</h2><p>åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install aria2</span><br></pre></td></tr></table></figure></p><h2 id="è®¾ç½®é…ç½®æ–‡ä»¶"><a href="#è®¾ç½®é…ç½®æ–‡ä»¶" class="headerlink" title="è®¾ç½®é…ç½®æ–‡ä»¶"></a>è®¾ç½®é…ç½®æ–‡ä»¶</h2><p><code>aria2</code> æä¾›ä¸¤ç§æ–¹å¼ä½¿ç”¨ï¼Œä¸€ç§æ˜¯ç›´æ¥å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è½½ï¼Œä¸æ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ¨èä½¿ç”¨å¦å¤–ä¸€ç§ <code>RPC</code> æ¨¡å¼ï¼Œè¿™ç§æ–¹å¼ <code>aria2</code> å¯åŠ¨ä¹‹ååªä¼šå®‰é™çš„ç­‰å¾…ä¸‹è½½è¯·æ±‚ï¼Œä¸‹è½½å®Œæˆåä¹Ÿåªä¼šå®‰é™çš„é©»ç•™åå°ä¸ä¼šè‡ªåŠ¨é€€å‡ºã€‚è€Œä½¿ç”¨ <code>RPC</code> æ¨¡å¼æ¨èåšä¸€ä¸ªé…ç½®æ–‡ä»¶æ–¹ä¾¿ä½¿ç”¨ã€‚</p><p>æˆ‘ä»¬æŠŠé…ç½®æ–‡ä»¶æ”¾åœ¨ <code>~/.aria2</code> ä¸‹ï¼Œç»ˆç«¯ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">mkdir .aria2</span><br><span class="line">cd .aria2</span><br><span class="line">touch aria2.conf</span><br></pre></td></tr></table></figure><p>æ¥ç€æ‰“å¼€ <code>Finder</code>ï¼Œåˆ©ç”¨ <code>shift + command + G</code> è¿›å…¥è·¯å¾„ï¼š<code>~/.aria2/aria2.conf</code>ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ <code>aria2.conf</code>ï¼Œå°† <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmljZWhvbmV5Lm1lL2Fib3V0" title="https://blog.icehoney.me/about">é›ªæœˆç§‹æ°´å›<i class="fa fa-external-link"></i></span> æä¾›çš„ä»¥ä¸‹é…ç½®ç›´æ¥æ‹·è´è¿›å»ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#ç”¨æˆ·å</span><br><span class="line">#rpc-user=user</span><br><span class="line">#å¯†ç </span><br><span class="line">#rpc-passwd=passwd</span><br><span class="line">#ä¸Šé¢çš„è®¤è¯æ–¹å¼ä¸å»ºè®®ä½¿ç”¨,å»ºè®®ä½¿ç”¨ä¸‹é¢çš„tokenæ–¹å¼</span><br><span class="line">#è®¾ç½®åŠ å¯†çš„å¯†é’¥</span><br><span class="line">#rpc-secret=token</span><br><span class="line">#å…è®¸rpc</span><br><span class="line">enable-rpc=true</span><br><span class="line">#å…è®¸æ‰€æœ‰æ¥æº, webç•Œé¢è·¨åŸŸæƒé™éœ€è¦</span><br><span class="line">rpc-allow-origin-all=true</span><br><span class="line">#å…è®¸å¤–éƒ¨è®¿é—®ï¼Œfalseçš„è¯åªç›‘å¬æœ¬åœ°ç«¯å£</span><br><span class="line">rpc-listen-all=true</span><br><span class="line">#RPCç«¯å£, ä»…å½“é»˜è®¤ç«¯å£è¢«å ç”¨æ—¶ä¿®æ”¹</span><br><span class="line">#rpc-listen-port=6800</span><br><span class="line">#æœ€å¤§åŒæ—¶ä¸‹è½½æ•°(ä»»åŠ¡æ•°), è·¯ç”±å»ºè®®å€¼: 3</span><br><span class="line">max-concurrent-downloads=5</span><br><span class="line">#æ–­ç‚¹ç»­ä¼ </span><br><span class="line">continue=true</span><br><span class="line">#åŒæœåŠ¡å™¨è¿æ¥æ•°</span><br><span class="line">max-connection-per-server=5</span><br><span class="line">#æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, ä¸‹è½½çº¿ç¨‹æ•°ä¸Šé™å–å†³äºèƒ½åˆ†å‡ºå¤šå°‘ç‰‡, å¯¹äºå°æ–‡ä»¶é‡è¦</span><br><span class="line">min-split-size=10M</span><br><span class="line">#å•æ–‡ä»¶æœ€å¤§çº¿ç¨‹æ•°, è·¯ç”±å»ºè®®å€¼: 5</span><br><span class="line">split=10</span><br><span class="line">#ä¸‹è½½é€Ÿåº¦é™åˆ¶</span><br><span class="line">max-overall-download-limit=0</span><br><span class="line">#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶</span><br><span class="line">max-download-limit=0</span><br><span class="line">#ä¸Šä¼ é€Ÿåº¦é™åˆ¶</span><br><span class="line">max-overall-upload-limit=0</span><br><span class="line">#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶</span><br><span class="line">max-upload-limit=0</span><br><span class="line">#æ–­å¼€é€Ÿåº¦è¿‡æ…¢çš„è¿æ¥</span><br><span class="line">#lowest-speed-limit=0</span><br><span class="line">#éªŒè¯ç”¨ï¼Œéœ€è¦1.16.1ä¹‹åçš„releaseç‰ˆæœ¬</span><br><span class="line">#referer=*</span><br><span class="line">#æ–‡ä»¶ä¿å­˜è·¯å¾„, é»˜è®¤ä¸ºå½“å‰å¯åŠ¨ä½ç½®</span><br><span class="line">dir=/Users/xxx/Downloads</span><br><span class="line">#æ–‡ä»¶ç¼“å­˜, ä½¿ç”¨å†…ç½®çš„æ–‡ä»¶ç¼“å­˜, å¦‚æœä½ ä¸ç›¸ä¿¡Linuxå†…æ ¸æ–‡ä»¶ç¼“å­˜å’Œç£ç›˜å†…ç½®ç¼“å­˜æ—¶ä½¿ç”¨, éœ€è¦1.16åŠä»¥ä¸Šç‰ˆæœ¬</span><br><span class="line">#disk-cache=0</span><br><span class="line">#å¦ä¸€ç§Linuxæ–‡ä»¶ç¼“å­˜æ–¹å¼, ä½¿ç”¨å‰ç¡®ä¿æ‚¨ä½¿ç”¨çš„å†…æ ¸æ”¯æŒæ­¤é€‰é¡¹, éœ€è¦1.15åŠä»¥ä¸Šç‰ˆæœ¬(?)</span><br><span class="line">#enable-mmap=true</span><br><span class="line">#æ–‡ä»¶é¢„åˆ†é…, èƒ½æœ‰æ•ˆé™ä½æ–‡ä»¶ç¢ç‰‡, æé«˜ç£ç›˜æ€§èƒ½. ç¼ºç‚¹æ˜¯é¢„åˆ†é…æ—¶é—´è¾ƒé•¿</span><br><span class="line">#æ‰€éœ€æ—¶é—´ none &lt; falloc ? trunc Â« prealloc, fallocå’Œtruncéœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå†…æ ¸æ”¯æŒ</span><br><span class="line">file-allocation=prealloc</span><br></pre></td></tr></table></figure><p>é»˜è®¤ä¸‹è½½è·¯å¾„çš„ <code>/Users/xxx/Downloads</code> å¯ä»¥æ”¹ä¸ºä»»ä½•ä½ æƒ³è¦çš„ç»å¯¹è·¯å¾„ã€‚æ­¤å¤„å†™ä¸º <code>Downloads</code> ç›®å½•ï¼Œ<code>xxx</code> è¯·è‡ªè¡Œæ›¿æ¢æˆä½ çš„ <code>mac</code> ç”¨æˆ·åï¼Œç„¶åä¿å­˜ï¼Œé€€å‡ºç¼–è¾‘å™¨ã€‚</p><h2 id="å¯åŠ¨-RPC-æ¨¡å¼"><a href="#å¯åŠ¨-RPC-æ¨¡å¼" class="headerlink" title="å¯åŠ¨ RPC æ¨¡å¼"></a>å¯åŠ¨ RPC æ¨¡å¼</h2><p>åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ <code>RPC</code> æ¨¡å¼ï¼Œå°† <code>xxx</code> æ›¿æ¢æˆä½ çš„ <code>mac</code> ç”¨æˆ·åã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aria2c --conf-path=&quot;/Users/xxx/.aria2/aria2.conf&quot; -D</span><br></pre></td></tr></table></figure><h2 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h2><p>ä¸‹è½½ <code>chrome</code> æµè§ˆå™¨ä¸‹è½½æ’ä»¶ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2phZS1qYWUvQ2FtdGQ=" title="https://github.com/jae-jae/Camtd">Camtd - Aria2ä¸‹è½½ç®¡ç†å™¨<i class="fa fa-external-link"></i></span>, ä¸‹è½½å®Œæˆåå³é”®ä¸‹è½½é“¾æ¥ç‚¹å‡» <code>Send to Aria2</code> å³å¯ä¸‹è½½ï¼Œä¹Ÿæ”¯æŒæ‹¦æˆªä¸‹è½½ã€‚</p><p><img src="https://blog-resources-1256752477.cos.ap-guangzhou.myqcloud.com/images/20190418211540.jpg" alt><br><img src="https://blog-resources-1256752477.cos.ap-guangzhou.myqcloud.com/images/20190418211538.png" alt></p><p>è¿™ä¸ªæ’ä»¶ä¸æ»¡æ„çš„è¯ï¼Œä¹Ÿå¯ä»¥æœç´¢å…¶ä»–ç±»ä¼¼æ’ä»¶ï¼Œä½†å¿…é¡»å¯åŠ¨ <code>RPC</code> æ¨¡å¼æ‰èƒ½å¤Ÿä½¿ç”¨æ­¤ç±»æ’ä»¶ã€‚</p><blockquote><p>æ–‡ç« å‚è€ƒ <span class="exturl" data-url="aHR0cHM6Ly9zc3BhaS5jb20vcG9zdC8zMjE2Nw==" title="https://sspai.com/post/32167">Mac ä¸Šä½¿ç”¨ç™¾åº¦ç½‘ç›˜å¾ˆçƒ¦èºï¼ŸèŠ±ç‚¹æ—¶é—´é…ç½® aria2 å§<i class="fa fa-external-link"></i></span> ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mac-ä¸Šé…ç½®-aria2-åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•&quot;&gt;&lt;a href=&quot;#mac-ä¸Šé…ç½®-aria2-åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;mac ä¸Šé…ç½® aria2 åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•&quot;&gt;&lt;/a&gt;mac ä¸Šé…ç½® aria2 åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://blog-resources-1256752477.cos.ap-guangzhou.myqcloud.com/images/20190418211539.jpg&quot; alt&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œä¸º&lt;code&gt;mac&lt;/code&gt; ç”¨æˆ·,å—å¤Ÿäº†å„ç§ä¸‹è½½é™é€Ÿï¼Œæµè§ˆå™¨è‡ªå¸¦çš„ä¸‹è½½å™¨æä¸ºè›‹ç–¼ï¼Œä¸å¦‚èŠ±ç‚¹æ—¶é—´æ¥é…ç½® &lt;code&gt;aria2&lt;/code&gt;ï¼Œç»“åˆ &lt;code&gt;Chrome&lt;/code&gt; æ’ä»¶é…ç½®ä¹‹å,çœŸé¦™!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;aria2-æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#aria2-æ˜¯ä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;aria2 æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;aria2 æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;&lt;p&gt;&lt;code&gt;aria2&lt;/code&gt; æ˜¯ä¸€æ¬¾æ”¯æŒå¤šç§åè®®çš„è½»é‡çº§å‘½ä»¤è¡Œä¸‹è½½å·¥å…·ã€‚æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šçº¿ç¨‹è¿çº¿ï¼š&lt;code&gt;aria2&lt;/code&gt; ä¼šè‡ªåŠ¨ä»å¤šä¸ªçº¿ç¨‹ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶å……åˆ†åˆ©ç”¨ä½ çš„å¸¦å®½ã€‚&lt;/li&gt;
&lt;li&gt;è½»é‡ï¼šè¿è¡Œæ—¶ä¸ä¼šå ç”¨è¿‡å¤šèµ„æºï¼Œæ ¹æ®å®˜æ–¹ä»‹ç»ï¼Œå†…å­˜å ç”¨é€šå¸¸åœ¨ &lt;code&gt;4MB~9MB&lt;/code&gt; ï¼Œä½¿ç”¨ &lt;code&gt;BitTorrent&lt;/code&gt; åè®®ï¼Œä¸‹è¡Œé€Ÿåº¦ &lt;code&gt;2.8MB/s&lt;/code&gt; æ—¶ &lt;code&gt;CPU&lt;/code&gt; å ç”¨ç‡çº¦ &lt;code&gt;6%&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;å…¨åŠŸèƒ½ &lt;code&gt;BitTorrent&lt;/code&gt; å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒ &lt;code&gt;RPC&lt;/code&gt; ç•Œé¢è¿œç¨‹æ§åˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Mac" scheme="http://nilhy.cn/categories/Mac/"/>
    
    
  </entry>
  
  <entry>
    <title>Moya&amp;Alamofire&amp;RxSwift&amp;ObjectMapperçš„é…åˆä½¿ç”¨</title>
    <link href="http://nilhy.cn/2018/04/13/iOS/Swift/Swift-Moya&amp;Alamofire&amp;RxSwift&amp;ObjectMapper%E7%9A%84%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8.html"/>
    <id>http://nilhy.cn/2018/04/13/iOS/Swift/Swift-Moya&amp;Alamofire&amp;RxSwift&amp;ObjectMapperçš„é…åˆä½¿ç”¨.html</id>
    <published>2018-04-12T18:11:09.000Z</published>
    <updated>2019-04-18T08:00:39.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Moya-amp-Alamofire-amp-RxSwift-amp-ObjectMapperçš„é…åˆä½¿ç”¨"><a href="#Moya-amp-Alamofire-amp-RxSwift-amp-ObjectMapperçš„é…åˆä½¿ç”¨" class="headerlink" title="Moya&amp;Alamofire&amp;RxSwift&amp;ObjectMapperçš„é…åˆä½¿ç”¨"></a>Moya&amp;Alamofire&amp;RxSwift&amp;ObjectMapperçš„é…åˆä½¿ç”¨</h1><p>ä¸»è¦æ˜¯å­¦ä¹ Moyaçš„ç†Ÿç»ƒä½¿ç”¨ï¼Œå…¨æ–‡æ¶‰åŠåˆ°CYLTabBarControlleræ­å»ºç®€å•æ˜“ç”¨çš„æ¡†æ¶ã€Swiftå’ŒOCäº’ç›¸è°ƒç”¨ã€FLEXæ˜¾ç¤ºç•Œé¢å±‚çº§UIçš„å±æ€§ã€ObjectMapperè§£ææ•°æ®ã€KingfisheråŠ è½½ç½‘ç»œå›¾ç‰‡ã€MBProgressHUDèåˆåˆ°è¯·æ±‚é‡Œè‡ªåŠ¨æ˜¾ç¤ºä¸éšè—è¯·æ±‚ç­‰å¾…ã€MJRefreshä½œä¸ºåˆ·æ–°ç®€å•å†™äº†ä¸€ä¸ªç±»åˆ«ã€SDCycleScrollViewæ˜¾ç¤ºè½®æ’­å›¾ã€Thençš„ä½¿ç”¨,æœ€ç»ˆå®ç°äº†ä¸€ä¸ªç®€å•çš„ç•Œé¢..</p><p>æ—¢ç„¶æ˜¯ä»‹ç»Moyaçš„å°±ä¸»è¦å…ˆæ¥ä»‹ç»å®ƒå§ï¼ŒMoyaæ˜¯å¯¹ Alamofireçš„è¿›ä¸€æ­¥å°è£…,ç®€åŒ–äº†ç½‘ç»œè¯·æ±‚,æ–¹ä¾¿ç»´æŠ¤</p><p><span class="exturl" data-url="aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tP3Q9aHR0cHM6Ly9naXRodWIuY29tL01veWEvTW95YS90cmVlL21hc3Rlci9kb2Nz" title="https://link.jianshu.com?t=https://github.com/Moya/Moya/tree/master/docs">ç‚¹å‡»æŸ¥çœ‹å®˜æ–¹æ•™ç¨‹<i class="fa fa-external-link"></i></span></p><a id="more"></a><h2 id="Moyaå‘é€ç®€å•çš„ç½‘ç»œè¯·æ±‚"><a href="#Moyaå‘é€ç®€å•çš„ç½‘ç»œè¯·æ±‚" class="headerlink" title="Moyaå‘é€ç®€å•çš„ç½‘ç»œè¯·æ±‚"></a>Moyaå‘é€ç®€å•çš„ç½‘ç»œè¯·æ±‚</h2><p>###æšä¸¾ç±»å‹éœ€æ»¡è¶³TargetTypeåè®®</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">TargetType</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> baseURL: <span class="type">NSURL</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> path: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> method: <span class="type">Moya</span>.<span class="type">Method</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> parameters: [<span class="type">String</span>: <span class="type">AnyObject</span>]? &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> sampleData: <span class="type">NSData</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°ä¸€ä¸ªæšä¸¾ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> Moya</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ApiManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> getDantangList(<span class="type">String</span>)</span><br><span class="line">    <span class="keyword">case</span> getNewsList</span><br><span class="line">    <span class="keyword">case</span> getMoreNews(<span class="type">String</span>)</span><br><span class="line">    <span class="keyword">case</span> getThemeList</span><br><span class="line">    <span class="keyword">case</span> getThemeDesc(<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> getNewsDesc(<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Create</span>(title: <span class="type">String</span>, body: <span class="type">String</span>, userId: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Login</span>(phone:<span class="type">String</span>,password:<span class="type">String</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Banner</span>(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ApiManager</span>: <span class="title">TargetType</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// The target's base `URL`.</span></span><br><span class="line"><span class="keyword">var</span> baseURL: <span class="type">URL</span> &#123;</span><br><span class="line"><span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line"><span class="keyword">case</span> .<span class="type">Create</span>(<span class="number">_</span>,<span class="number">_</span>,<span class="number">_</span>):</span><br><span class="line"><span class="keyword">return</span> <span class="type">URL</span>.<span class="keyword">init</span>(string: <span class="string">"http://jsonplaceholder.typicode.com/"</span>)!</span><br><span class="line"><span class="keyword">case</span> .getDantangList,.<span class="type">Banner</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="type">URL</span>.<span class="keyword">init</span>(string: <span class="string">"http://api.dantangapp.com/"</span>)!</span><br><span class="line"><span class="keyword">case</span> .<span class="type">Login</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="type">URL</span>.<span class="keyword">init</span>(string: <span class="string">"https://api.grtstar.cn"</span>)!</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="type">URL</span>.<span class="keyword">init</span>(string: <span class="string">"http://news-at.zhihu.com/api/"</span>)!</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// The path to be appended to `baseURL` to form the full `URL`.</span></span><br><span class="line"><span class="keyword">var</span> path: <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> .getDantangList(<span class="keyword">let</span> page):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"v1/channels/\(page)/items"</span></span><br><span class="line">    <span class="keyword">case</span> .getNewsList:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"4/news/latest"</span></span><br><span class="line">    <span class="keyword">case</span> .getMoreNews(<span class="keyword">let</span> date):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"4/news/before/"</span> + date</span><br><span class="line">    <span class="keyword">case</span> .getThemeList:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"4/themes"</span></span><br><span class="line">    <span class="keyword">case</span> .getThemeDesc(<span class="keyword">let</span> id):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"4/theme/\(id)"</span></span><br><span class="line">    <span class="keyword">case</span> .getNewsDesc(<span class="keyword">let</span> id):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"4/news/\(id)"</span></span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Create</span>(<span class="number">_</span>, <span class="number">_</span>, <span class="number">_</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"posts"</span></span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Login</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"/rest/user/certificate"</span></span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Banner</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"v1/banners"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The HTTP method used in the request.</span></span><br><span class="line">    <span class="keyword">var</span> method: <span class="type">Moya</span>.<span class="type">Method</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Create</span>(<span class="number">_</span>, <span class="number">_</span>, <span class="number">_</span>):</span><br><span class="line">    <span class="keyword">return</span> .post</span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Login</span>:</span><br><span class="line">    <span class="keyword">return</span> .post</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">return</span> .<span class="keyword">get</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The parameters to be incoded in the request.</span></span><br><span class="line">    <span class="keyword">var</span> parameters: [<span class="type">String</span>: <span class="type">Any</span>]? &#123;</span><br><span class="line">    <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Create</span>(<span class="keyword">let</span> title, <span class="keyword">let</span> body, <span class="keyword">let</span> userId):</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">"title"</span>: title, <span class="string">"body"</span>: body, <span class="string">"userId"</span>: userId]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Login</span>(<span class="keyword">let</span> number, <span class="keyword">let</span> passwords):</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">"mobile"</span> : number, <span class="string">"password"</span> :  passwords,<span class="string">"deviceId"</span>: <span class="string">"12121312323"</span>]</span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Banner</span>(<span class="keyword">let</span> strin):</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">"channel"</span> :strin]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// The method used for parameter encoding.</span></span><br><span class="line">    <span class="keyword">var</span> parameterEncoding: <span class="type">ParameterEncoding</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">URLEncoding</span>.<span class="keyword">default</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Provides stub data for use in testing.</span></span><br><span class="line">    <span class="keyword">var</span> sampleData: <span class="type">Data</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> .<span class="type">Create</span>(<span class="number">_</span>, <span class="number">_</span>, <span class="number">_</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Create post successfully"</span>.data(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8)!</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">""</span>.data(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8)!</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> task: <span class="type">Task</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> .request</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Whether or not to perform Alamofire validation. Defaults to `false`.</span></span><br><span class="line">    <span class="keyword">var</span> validate: <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    `&lt;/pre&gt;</span><br><span class="line"></span><br><span class="line">    #### ç°åœ¨å°±å¯ä»¥å‘é€ç®€å•çš„ç½‘ç»œè¯·æ±‚äº†:</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>.å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡<span class="type">MoyaProvider</span></span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;`<span class="keyword">let</span> <span class="type">ApiManagerProvider</span> = <span class="type">MoyaProvider</span>&amp;lt;<span class="type">ApiManager</span>&amp;gt;</span><br><span class="line"></span><br><span class="line">    `&lt;/pre&gt;</span><br><span class="line"></span><br><span class="line">    <span class="number">2</span>.å‘é€ç½‘ç»œè¯·æ±‚</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;`<span class="type">ApiManagerProvider</span>.request(.getNewsList) &#123; (result) -&amp;gt; () <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> .success(response):</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> .failure(error):</span><br><span class="line">    <span class="keyword">break</span>  </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    `&lt;/pre&gt;</span><br><span class="line"></span><br><span class="line">    #### <span class="type">MoyaProvider</span>çš„åˆå§‹åŒ–</span><br><span class="line"></span><br><span class="line">    æˆ‘ä»¬è§‚å¯Ÿä¸‹<span class="type">MoyaProvider</span>çš„åˆå§‹åŒ–æ–¹æ³•. <span class="type">MoyaProvider</span>åˆå§‹åŒ–éƒ½æ˜¯æœ‰é»˜è®¤å€¼çš„</span><br><span class="line"></span><br><span class="line">    &lt;pre&gt;`<span class="keyword">public</span> <span class="keyword">init</span>(endpointClosure: @escaping <span class="type">EndpointClosure</span> = <span class="type">MoyaProvider</span>.defaultEndpointMapping,</span><br><span class="line">    requestClosure: @escaping <span class="type">RequestClosure</span> = <span class="type">MoyaProvider</span>.defaultRequestMapping,</span><br><span class="line">    stubClosure: @escaping <span class="type">StubClosure</span> = <span class="type">MoyaProvider</span>.neverStub,</span><br><span class="line">    manager: <span class="type">Manager</span> = <span class="type">MoyaProvider</span>&amp;lt;<span class="type">Target</span>&amp;gt;.defaultAlamofireManager(),</span><br><span class="line">    plugins: [<span class="type">PluginType</span>] = [],</span><br><span class="line">    trackInflights: <span class="type">Bool</span> = <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">    `&lt;/pre&gt;</span><br></pre></td></tr></table></figure><pre><code>è¿™äº›å¯é€‰å‚æ•°å°±æ˜¯Moyaçš„å¼ºå¤§ä¹‹å¤„äº† ï¼Œæ–‡ç« ä¸»è¦ä¹Ÿæ˜¯ä»‹ç»å¦‚ä½•ä½¿ç”¨è¿™äº›æ’ä»¶çš„ã€‚#### å‚æ•°è¯´æ˜ï¼š</code></pre><ul><li>EndpointClosure<br>å¯ä»¥å¯¹è¯·æ±‚å‚æ•°åšè¿›ä¸€æ­¥çš„ä¿®æ”¹,å¦‚å¯ä»¥ä¿®æ”¹endpointByAddingParameters endpointByAddingHTTPHeaderFieldsç­‰</li><li>RequestClosure ä½ å¯ä»¥åœ¨å‘é€è¯·æ±‚å‰ï¼Œåšç‚¹æ‰‹è„š. å¦‚ä¿®æ”¹è¶…æ—¶æ—¶é—´ï¼Œæ‰“å°ä¸€äº›æ•°æ®ç­‰ç­‰</li><li>StubClosureå¯ä»¥è®¾ç½®è¯·æ±‚çš„å»¶è¿Ÿæ—¶é—´,å¯ä»¥å½“åšæ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ</li><li>Manager è¯·æ±‚ç½‘ç»œè¯·æ±‚çš„æ–¹å¼ã€‚é»˜è®¤æ˜¯Alamofire</li><li><p>[PluginType]ä¸€äº›æ’ä»¶ã€‚å›è°ƒçš„ä½ç½®åœ¨å‘é€è¯·æ±‚åï¼Œæ¥å—æœåŠ¡å™¨è¿”å›ä¹‹å‰</p><p>ç¨åè¯¦ç»†ä»‹ç»è¿™éƒ¨åˆ†å†…å®¹ã€‚</p><h4 id="RxSwift"><a href="#RxSwift" class="headerlink" title="RxSwift"></a>RxSwift</h4><p>Moyaä¹Ÿæœ‰è‡ªå·±çš„RxSwiftçš„æ‰©å±•ï¼Œä¸æ‡‚RxSwiftçš„ç«¥é‹å¯ä»¥çœ‹ä¸‹æˆ‘ä»¬åšå®¢ä¸­çš„å…³äºRxSwiftåº“ä»‹ç»çš„æ–‡ç« ã€‚Moyaä½¿ç”¨RxSwiftå¾ˆç®€å•ï¼Œå¦‚ä¸‹æ‰€ç¤ºæˆ‘ä»¬åªéœ€è¦å¯¹è¯·æ±‚ç»“æœè¿›è¡Œç›‘å¬å°±è¡Œäº†</p><p><em>ä½¿ç”¨RxSwiftå¯ä»¥è¿™æ ·æ¥è¯·æ±‚</em></p><pre>`let provider = RxMoyaProvider&lt;ApiManager&gt;()//è¦ä½¿ç”¨RxMoyaProvideråˆ›å»ºproviderï¼Œæš‚æ—¶ä¸æºå¸¦ä»»ä½•å‚æ•°provider.request(.getNewsList).subscribe { event inswitch event {case .next(let response):// do something with the datacase .error(let error):// handle the error}}`</pre><p>æˆ‘ä»¬è¿˜å¯ä»¥å¯¹Observableè¿›è¡Œæ‰©å±•ï¼Œè‡ªå®šä¹‰ä¸€äº›è‡ªå·±æµæ°´çº¿æ“ä½œï¼Œæ¯”å¦‚è‡ªåŠ¨å®ç°jsonè½¬åŒ–Modelï¼Œå®šä¹‰å¦‚ä¸‹ã€‚</p><pre>`func mapObject&lt;T: Mappable&gt;(type: T.Type) -&gt; Observable&lt;T&gt; {return self.map { response in//if response is a dictionary, then use ObjectMapper to map the dictionary//if not throw an errorguard let dict = response as? [String: Any] else {throw RxSwiftMoyaError.ParseJSONError}guard (dict["code"] as?Int) != nil else{throw RxSwiftMoyaError.ParseJSONError}if let error = self.parseError(response: dict) {throw error}return Mapper&lt;T&gt;().map(JSON: dict)!}}`</pre><p>ä¸‹è¾¹çš„æ–¹æ³•å°±éœ€è¦æ ¹æ®æœåŠ¡å™¨è¿”å›æ•°æ®è¿›è¡Œåˆ¤æ–­äº†ï¼Œæˆ‘å¸¸ç”¨çš„é€»è¾‘æ˜¯æ•°æ®è¯·æ±‚æˆåŠŸäº†æ‰è¿”å›å†å°±è¡Œç•Œé¢èµ‹å€¼åˆ·æ–°æ“ä½œï¼Œå¦‚æœæ˜¯çŠ¶æ€ç ä¸æˆåŠŸå°±ç›´æ¥æ‹¦æˆªæŠ›å‡ºé”™è¯¯ï¼ˆåå°è¿”å›çš„messageï¼‰ï¼Œæ¯”å¦‚æ˜¯ç™»å½•å¯†ç é”™è¯¯æç¤ºä¹‹ç±»çš„</p><pre>`fileprivate func parseError(response: [String: Any]?) -&gt; NSError? {var error: NSError?if let value = response {var code:Int?//åå°çš„æ•°æ®æ¯æ¬¡ä¼šè¿”å›codeåªæœ‰æ˜¯200æ‰ä¼šè¡¨ç¤ºé€»è¾‘æ­£å¸¸æ‰§è¡Œif let codes = value["code"] as?Int{code = codes}if  code != 200 {var msg = ""if let message = value["message"] as? String {msg = message}error = NSError(domain: "Network", code: code!, userInfo: [NSLocalizedDescriptionKey: msg])}}return error}`</pre><p><em>é‚£ä¹ˆå°±å¯ä»¥å®šä¹‰ä¸€ä¸ªè¯·æ±‚æ–¹æ³•äº† </em></p><pre>`func login(phone: String, password:String) -&gt; Observable&lt;UserModel&gt; {return provider.request(.Login(phone: phone, password: password)).mapJSON().debug() // æ‰“å°è¯·æ±‚å‘é€ä¸­çš„è°ƒè¯•ä¿¡æ¯.mapObject(type: UserModel.self)}`</pre><p>å¦‚ä¸‹ä»£ç å°±å®Œæˆäº†ä¸€æ¬¡è¯·æ±‚</p><pre>`let viewModel  = ViewModel(self)viewModel.login(phone: "156178...." , password: "11111").subscribe(onNext: { (userModel: UserModel) in//do something with postsprint(userModel.user?.nickName ?? "")}).addDisposableTo(dispose)`</pre><p>Moyaä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šObservableçš„æ‰©å±•ï¼Œè®©æˆ‘ä»¬èƒ½æ›´è½»æ¾çš„å¤„ç†MoyaResponseï¼Œå¸¸ç”¨çš„å¦‚ä¸‹ï¼š</p></li><li><p>filter(statusCodes:) è¿‡æ»¤responseçŠ¶æ€ç </p></li><li>filterSuccessfulStatusCodes() è¿‡æ»¤çŠ¶æ€ç ä¸ºè¯·æ±‚æˆåŠŸçš„</li><li>mapJSON() å°†è¯·æ±‚responseè½¬åŒ–ä¸ºJSONæ ¼å¼</li><li><p>mapString() å°†è¯·æ±‚responseè½¬åŒ–ä¸ºStringæ ¼å¼</p><p>å…·ä½“å¯ä»¥å‚è€ƒ<span class="exturl" data-url="aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tP3Q9aHR0cHM6Ly9naXRodWIuY29tL01veWEvTW95YS9ibG9iL21hc3Rlci9kb2NzL1J4U3dpZnQubWQ=" title="https://link.jianshu.com?t=https://github.com/Moya/Moya/blob/master/docs/RxSwift.md">å®˜æ–¹æ–‡æ¡£<i class="fa fa-external-link"></i></span></p><hr><p>ä¸‹è¾¹å°±è¯´è¯´RxMoyaProviderå‚æ•°å§</p><h4 id="EndpointClosure"><a href="#EndpointClosure" class="headerlink" title="EndpointClosure"></a>EndpointClosure</h4><p><em>æ²¡å†™ä»€ä¹ˆå°±æ‰“å°ä¸‹å‚æ•°ï¼Œè¯·æ±‚æ–¹æ³•ï¼Œè·¯å¾„..å¯ä»¥æ ¸å¯¹</em></p><pre>`private func endpointMapping&lt;Target: TargetType&gt;(target: Target) -&gt; Endpoint&lt;Target&gt; {print("è¯·æ±‚è¿æ¥ï¼š\(target.baseURL)\(target.path) \næ–¹æ³•ï¼š\(target.method)\nå‚æ•°ï¼š\(String(describing: target.parameters)) ")return MoyaProvider.defaultEndpointMapping(for: target)}`</pre><h4 id="manager"><a href="#manager" class="headerlink" title="manager"></a>manager</h4><p><em>ç”¨çš„æ˜¯Alamofireè¯·æ±‚ï¼Œè¿™é‡Œä¸»è¦å†™äº†ä¸€ä¸ªå¿½ç•¥SSLéªŒè¯çš„æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œä¿®æ”¹è¯·æ±‚å¤´ç­‰ç­‰</em></p><pre>`public func defaultAlamofireManager() -&gt; Manager {let configuration = URLSessionConfiguration.defaultconfiguration.httpAdditionalHeaders = Alamofire.SessionManager.defaultHTTPHeaderslet policies: [String: ServerTrustPolicy] = ["ap.dimain.cn": .disableEvaluation]let manager = Alamofire.SessionManager(configuration: configuration,serverTrustPolicyManager: ServerTrustPolicyManager(policies: policies))manager.startRequestsImmediately = falsereturn manager}`</pre><p>æœ€æœ‰æ„æ€çš„è¿˜æ˜¯æ’ä»¶äº† ï¼Œå¯ä»¥è‡ªå®šä¹‰å„ç§åŠŸèƒ½</p><h4 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h4><p>pluginså‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„çš„å½¢å¼ï¼Œéµå¾ªPluginTypeåè®®æˆ‘ä»¬å…ˆçœ‹ä¸‹PluginTypeçš„åè®®å†…å®¹</p><pre>`public protocol PluginType {/// Called to modify a request before sending//è¯·æ±‚å‰å¯ä»¥ä¿®æ”¹ä¸€äº›requestfunc prepare(_ request: URLRequest, target: TargetType) -&gt; URLRequest/// Called immediately before a request is sent over the network (or stubbed).//å¼€å§‹è¯·æ±‚func willSend(_ request: RequestType, target: TargetType)/// Called after a response has been received, but before the MoyaProvider has invoked its completion handler.//ç»“æŸè¯·æ±‚func didReceive(_ result: Result&lt;Moya.Response, MoyaError&gt;, target: TargetType)/// Called to modify a result before completionfunc process(_ result: Result&lt;Moya.Response, MoyaError&gt;, target: TargetType) -&gt; Result&lt;Moya.Response, MoyaError&gt;}`</pre><p><em>çŠ¶æ€æ¡ä¸­çš„ç½‘ç»œåŠ è½½æç¤º,ä¿—ç§°â€èŠèŠ±åŠ è½½</em></p><h4 id="networkActivityPlugin"><a href="#networkActivityPlugin" class="headerlink" title="networkActivityPlugin"></a>networkActivityPlugin</h4><pre>`let networkActivityPlugin = NetworkActivityPlugin { (change) -&gt; () inswitch(change){case .ended:UIApplication.shared.isNetworkActivityIndicatorVisible = falsecase .began:UIApplication.shared.isNetworkActivityIndicatorVisible = true}}`</pre><p>NetworkActivityPluginæ˜¯Moyaæä¾›çš„æ–¹æ³•ï¼Œè¿˜æ˜¯æ ¹æ®PluginTypeçš„åè®®å®ç°çš„</p><p><em>è¯·æ±‚ä¸€èˆ¬å°±éœ€è¦loadingäº†è¿™é‡Œç”¨MBProgressHUDå®ç°è‡ªåŠ¨æ˜¾ç¤ºéšè—</em></p><pre>`public final class RequestLoadingPlugin: PluginType {private let viewController: UIViewControllervar HUD:MBProgressHUDvar hide:Boolinit(_ vc: UIViewController,_ hideView:Bool) {self.viewController = vcself.hide = hideViewHUD = MBProgressHUD.init()guard self.hide else {return}HUD = MBProgressHUD.showAdded(to: self.viewController.view, animated: true)}public func willSend(_ request: RequestType, target: TargetType) {print("å¼€å§‹è¯·æ±‚\(self.viewController)")if self.hide  != false  {HUD.mode = MBProgressHUDMode.indeterminateHUD.label.text = "åŠ è½½ä¸­"HUD.bezelView.color = UIColor.lightGrayHUD.removeFromSuperViewOnHide = trueHUD.backgroundView.style = .solidColor //æˆ–SolidColor}}public func didReceive(_ result: Result&lt;Response, MoyaError&gt;, target: TargetType) {print("ç»“æŸè¯·æ±‚")HUD.hide(animated: true)}}`</pre><p><em>ä¿®æ”¹è¯·æ±‚å¤´æƒ³æƒ³ä¸è¯¥æ”¾åœ¨æ’ä»¶äº†å®ç°ï¼Œåº”è¯¥æ˜¯åœ¨manageré‡Œå®ç°ï¼Œå…ˆæ”¾å‡ºæ¥ä»£ç å§</em></p><pre>`struct AuthPlugin: PluginType {let token: Stringfunc prepare(_ request: URLRequest, target: TargetType) -&gt; URLRequest {var request = requestrequest.timeoutInterval = 30request.addValue(token, forHTTPHeaderField: "token")request.addValue("ios", forHTTPHeaderField: "platform")request.addValue("version", forHTTPHeaderField: Bundle.main.object(forInfoDictionaryKey: "CFBundleShortVersionString") as! String)return request}}`</pre><p><em>è¯·æ±‚æ—¶å€™é‡åˆ°é€»è¾‘é”™è¯¯æˆ–è€…ä¸æ»¡è¶³æ¡ä»¶ï¼Œå‚æ•°é”™è¯¯ç­‰è¦æç¤ºè¿™é‡Œç”¨çš„æ˜¯Toast</em></p><pre>`//æ£€æµ‹tokenæœ‰æ•ˆæ€§final class AccessTokenPlugin: PluginType {private let viewController: UIViewControllerinit(_ vc: UIViewController) {self.viewController = vc}public func willSend(_ request: RequestType, target: TargetType) {}public func didReceive(_ result: Result&lt;Response, MoyaError&gt;, target: TargetType) {switch result {case .success(let response)://è¯·æ±‚çŠ¶æ€ç guard  response.statusCode == 200   else {return}var json:Dictionary? = try! JSONSerialization.jsonObject(with: response.data,options:.allowFragments) as! [String: Any]print("è¯·æ±‚çŠ¶æ€ç \(json?["status"] ?? "")")guard (json?["message"]) != nil  else {return}guard let codeString = json?["status"]else {return}//è¯·æ±‚çŠ¶æ€ä¸º1æ—¶å€™ç«‹å³è¿”å›ä¸å¼¹å‡ºä»»ä½•æç¤º å¦åˆ™æç¤ºåå°è¿”å›çš„é”™è¯¯ä¿¡æ¯guard codeString as! Int != 1 else{return}self.viewController.view .makeToast( json?["message"] as! String)case .failure(let error):print("å‡ºé”™äº†\(error)")break}}}`</pre><p>AccessTokenPluginè¿™ä¸ªåå­—æœ‰ç‚¹é—®é¢˜å“ˆï¼Œèµ·åˆæ˜¯æƒ³åœ¨è¿™é‡Œåˆ¤æ–­tokenä¸æ­£ç¡®å°±é€€å‡ºç™»å½•ç”¨çš„ç”±äºæ²¡æœ‰åˆé€‚çš„apiå°±å®ç°äº†è¯·æ±‚ç»“æœçš„çŠ¶æ€åˆ¤æ–­ï¼Œè¿™å°±è‡ªåŠ¨å®ç°äº†é€»è¾‘é”™è¯¯çš„æç¤ºäº† ä¸ç”¨ä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªè¯·æ±‚çš„åˆ¤æ–­äº†ï¼Œè¿˜æ˜¯æŒºæ–¹ä¾¿çš„</p><p>æœ‰äº†è¿™äº›æ’ä»¶å°±å¯ä»¥è¿™æ ·åˆå§‹åŒ–RxMoyaProvider</p><pre>`let provider :RxMoyaProvider&lt;ApiManager&gt;provider = RxMoyaProvider&lt;ApiManager&gt;(endpointClosure: endpointMapping,manager:defaultAlamofireManager(),plugins:[RequestLoadingPlugin(self.viewController,true),AccessTokenPlugin( self.viewController), NetworkLoggerPlugin(verbose: true),networkActivityPlugin,AuthPlugin(token: "æš‚æ—¶ä¸ºç©º")]`</pre><p>å…³äºMoyaçš„ç”¨æ³•å…ˆä»‹ç»åˆ°è¿™é‡Œåç»­æˆ‘ä¼šç»§ç»­æ¢ç©¶æ›´åŠ çµæ´»å…¨é¢çš„ç”¨æ³•ã€‚</p><hr><h4 id="ä¸‹è¾¹ä»‹ç»ä¸‹Thençš„è¯­æ³•æ£‰èŠ±ç³–å§ï¼Œçœ‹ä¾‹å­å§"><a href="#ä¸‹è¾¹ä»‹ç»ä¸‹Thençš„è¯­æ³•æ£‰èŠ±ç³–å§ï¼Œçœ‹ä¾‹å­å§" class="headerlink" title="ä¸‹è¾¹ä»‹ç»ä¸‹Thençš„è¯­æ³•æ£‰èŠ±ç³–å§ï¼Œçœ‹ä¾‹å­å§"></a>ä¸‹è¾¹ä»‹ç»ä¸‹<span class="exturl" data-url="aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tP3Q9aHR0cHM6Ly9naXRodWIuY29tL2RldnhvdWwvVGhlbg==" title="https://link.jianshu.com?t=https://github.com/devxoul/Then">Then<i class="fa fa-external-link"></i></span>çš„è¯­æ³•æ£‰èŠ±ç³–å§ï¼Œçœ‹ä¾‹å­å§</h4><pre>`_ = UILabel.init(frame: CGRect.init(x: 0, y: 0, width: kScreenW, height: 50)).then({ (make) inmake.text = "Thençš„ç®€å•ç”¨æ³•è¶…èµğŸ‘"make.font = .systemFont(ofSize: 20)make.textColor = .redmake.textAlignment = .centerself.view.addSubview(make)})UserDefaults.standard.do {$0.set("devxoul", forKey: "username")$0.set("devxoul@gmail.com", forKey: "email")$0.synchronize()let tableView = UITableView().then {$0.backgroundColor = .clear$0.separatorStyle = .none$0.register(MyCell.self, forCellReuseIdentifier: "myCell")}}   `</pre><p><em>å¦‚æœå¸ƒå±€è¿™æ ·è¿˜ä¸ç®€å•é‚£å†çœ‹ä¸‹è¾¹ç”¨<span class="exturl" data-url="aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tP3Q9aHR0cHM6Ly9naXRodWIuY29tL2RldnhvdWwvVGhlbg==" title="https://link.jianshu.com?t=https://github.com/devxoul/Then">Then<i class="fa fa-external-link"></i></span>å’Œ<span class="exturl" data-url="aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tP3Q9aHR0cHM6Ly9naXRodWIuY29tL1NuYXBLaXQvU25hcEtpdA==" title="https://link.jianshu.com?t=https://github.com/SnapKit/SnapKit">SnapKit<i class="fa fa-external-link"></i></span>ä¸€èµ·ä½¿ç”¨çš„æ–¹å¼</em></p><pre>`_ = UILabel().then({ (make) inmake.text = "Thençš„ç®€å•ç”¨æ³•è¶…èµğŸ‘"make.font = .systemFont(ofSize: 20)make.textColor = .redmake.textAlignment = .centerself.view.addSubview(make)make.snp.makeConstraints({ (make) inmake.top.left.right.equalTo(0)make.height.equalTo(50)})})`</pre><p>å†ä¸æ»¡æ„åªèƒ½ç”¨Xibå¸ƒå±€äº†â€¦.</p><h4 id="åœ¨Swiftä¸­ç”¨SDCycleScrollViewè½®æ’­å›¾"><a href="#åœ¨Swiftä¸­ç”¨SDCycleScrollViewè½®æ’­å›¾" class="headerlink" title="åœ¨Swiftä¸­ç”¨SDCycleScrollViewè½®æ’­å›¾"></a>åœ¨Swiftä¸­ç”¨<span class="exturl" data-url="aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tP3Q9aHR0cHM6Ly9naXRodWIuY29tL2dzZGlvcy9TREN5Y2xlU2Nyb2xsVmlldw==" title="https://link.jianshu.com?t=https://github.com/gsdios/SDCycleScrollView">SDCycleScrollView<i class="fa fa-external-link"></i></span>è½®æ’­å›¾</h4><p>SDCycleScrollViewä¹‹å‰ä¸€ç›´åœ¨OCä¸­ä½¿ç”¨è§‰å¾—å¾ˆç®€å•åˆç†Ÿæ‚‰äº†æ‰€ä»¥è¿™æ¬¡å†™çš„Demoä¾æ—§æ¬äº†è¿‡æ¥ï¼Œä½†æ˜¯å‘¢SDCycleScrollViewé‡Œå®ç°å›¾ç‰‡ä¸‹è½½ç”¨çš„æ˜¯SDWebImageï¼Œè€ŒSwiftç‰ˆæœ¬æä¾›äº†Kingfisheré‚£ä¸å¯èƒ½éƒ½ç”¨äº†ï¼Œå› ä¸ºä¹Ÿä¸æƒ³æ”¾å¼ƒSDCycleScrollViewå°±ä¸å¾—å·²ä¿®æ”¹äº†é‡Œè¾¹å›¾ç‰‡ä¸‹è½½çš„æ–¹æ³•ï¼Œåœ¨Swifté¡¹ç›®é‡ŒOCç±»ç›´æ¥è°ƒç”¨Swiftç±»æ˜¯è°ƒç”¨ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘å°±å’¨è¯¢äº†ä¸‹æ‰¾åˆ°ä¸€ä¸ªåˆé€‚åŠæ³•ï¼Œæ–°å»ºSwifté‡Œç»§æ‰¿SDCycleScrollViewç„¶åç”¨Kingfisherå®ç°å›¾ç‰‡ä¸‹è½½ï¼Œæ–¹æ³•æ¯”è¾ƒç®€å•å°±æ˜¯ç»™å¼€å‘è€…æä¾›ä¸€ä¸ªå‚è€ƒæ–¹æ³•</p><pre>`import UIKitimport SDCycleScrollViewimport Kingfisherclass CustomSDCycleScrollView: SDCycleScrollView  {//å› ä¸ºä¹‹å‰åº“é‡Œè¾¹ç”¨çš„æ˜¯SDWebImageView ç¼“å­˜çš„å›¾ç‰‡ ç°åœ¨ æ¢äº†Swiftç‰ˆæœ¬çš„Kingfisheræ‰€ä»¥ æ— å¥ˆä¿®æ”¹äº†åŸåº“çš„æ–¹æ³• é‡å†™äº†ä¸‹open override func imageView(_ imageView: UIImageView!, url: URL!) -&gt; UIImageView! {let imageView: UIImageView? = imageViewimageView?.kf.setImage(with: url,placeholder:UIImage.init(named: "tab_5th_h"))return imageView}//é‡å†™ocä»£ç  åˆ é™¤ç¼“å­˜override class func clearImagesCache(){let cache = KingfisherManager.shared.cache// è·å–ç¡¬ç›˜ç¼“å­˜çš„å¤§å°cache.calculateDiskCacheSize { (size) -&gt; () inprint("ç£ç›˜ç¼“å­˜å¤§å°ï¼š \(size) bytes ")cache.clearDiskCache()}}}`</pre><p>ç”¨çš„æ—¶å€™ç›´æ¥ä½¿ç”¨CustomSDCycleScrollViewå³å¯</p><h4 id="é¡¹ç›®ä½¿ç”¨MJRefreshå®ç°åˆ·æ–°"><a href="#é¡¹ç›®ä½¿ç”¨MJRefreshå®ç°åˆ·æ–°" class="headerlink" title="é¡¹ç›®ä½¿ç”¨MJRefreshå®ç°åˆ·æ–°"></a>é¡¹ç›®ä½¿ç”¨MJRefreshå®ç°åˆ·æ–°</h4><p><em>ç»™UIScrollViewå†™äº†ä¸€ä¸ªç±»åˆ«æ¯”è¾ƒç®€å•ä»£ç å¦‚ä¸‹</em></p><pre>`import UIKitimport MJRefreshextension UIScrollView{func headerRefresh(block: @escaping () -&gt; ()) -&gt; (){self.mj_header = MJRefreshNormalHeader.init(refreshingBlock: {block()})}func footerRefresh(block: @escaping () -&gt; ()) -&gt; (){self.mj_footer = MJRefreshBackNormalFooter(refreshingBlock: {block()})}func endrefresh(){self.mj_footer.endRefreshing()self.mj_header.endRefreshing()}}`</pre><p>ç”¨çš„æ—¶å€™æ›´ç®€å•äº†</p><p><pre>`weak var weakself = self<br>//ä¸Šæ‹‰åˆ·æ–°<br>tableView.headerRefresh {<br>weakself?.loadData()<br>}<br>//ä¸‹æ‹‰åŠ è½½<br>tableView.footerRefresh{<br>weakself?.loadData()<br>}<br>//ç»“æŸåˆ·æ–°<br>self.tableView.endrefresh()</pre></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Moya-amp-Alamofire-amp-RxSwift-amp-ObjectMapperçš„é…åˆä½¿ç”¨&quot;&gt;&lt;a href=&quot;#Moya-amp-Alamofire-amp-RxSwift-amp-ObjectMapperçš„é…åˆä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;Moya&amp;amp;Alamofire&amp;amp;RxSwift&amp;amp;ObjectMapperçš„é…åˆä½¿ç”¨&quot;&gt;&lt;/a&gt;Moya&amp;amp;Alamofire&amp;amp;RxSwift&amp;amp;ObjectMapperçš„é…åˆä½¿ç”¨&lt;/h1&gt;&lt;p&gt;ä¸»è¦æ˜¯å­¦ä¹ Moyaçš„ç†Ÿç»ƒä½¿ç”¨ï¼Œå…¨æ–‡æ¶‰åŠåˆ°CYLTabBarControlleræ­å»ºç®€å•æ˜“ç”¨çš„æ¡†æ¶ã€Swiftå’ŒOCäº’ç›¸è°ƒç”¨ã€FLEXæ˜¾ç¤ºç•Œé¢å±‚çº§UIçš„å±æ€§ã€ObjectMapperè§£ææ•°æ®ã€KingfisheråŠ è½½ç½‘ç»œå›¾ç‰‡ã€MBProgressHUDèåˆåˆ°è¯·æ±‚é‡Œè‡ªåŠ¨æ˜¾ç¤ºä¸éšè—è¯·æ±‚ç­‰å¾…ã€MJRefreshä½œä¸ºåˆ·æ–°ç®€å•å†™äº†ä¸€ä¸ªç±»åˆ«ã€SDCycleScrollViewæ˜¾ç¤ºè½®æ’­å›¾ã€Thençš„ä½¿ç”¨,æœ€ç»ˆå®ç°äº†ä¸€ä¸ªç®€å•çš„ç•Œé¢..&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯ä»‹ç»Moyaçš„å°±ä¸»è¦å…ˆæ¥ä»‹ç»å®ƒå§ï¼ŒMoyaæ˜¯å¯¹ Alamofireçš„è¿›ä¸€æ­¥å°è£…,ç®€åŒ–äº†ç½‘ç»œè¯·æ±‚,æ–¹ä¾¿ç»´æŠ¤&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tP3Q9aHR0cHM6Ly9naXRodWIuY29tL01veWEvTW95YS90cmVlL21hc3Rlci9kb2Nz&quot; title=&quot;https://link.jianshu.com?t=https://github.com/Moya/Moya/tree/master/docs&quot;&gt;ç‚¹å‡»æŸ¥çœ‹å®˜æ–¹æ•™ç¨‹&lt;i class=&quot;fa fa-external-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://nilhy.cn/categories/iOS/"/>
    
    
      <category term="Swift" scheme="http://nilhy.cn/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨ iTunes æ¥å£æ£€æŸ¥Appç‰ˆæœ¬æ›´æ–°</title>
    <link href="http://nilhy.cn/2018/01/16/iOS/skill/%E5%88%A9%E7%94%A8iTunes%E6%8E%A5%E5%8F%A3%E6%A3%80%E6%9F%A5App%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0.html"/>
    <id>http://nilhy.cn/2018/01/16/iOS/skill/åˆ©ç”¨iTunesæ¥å£æ£€æŸ¥Appç‰ˆæœ¬æ›´æ–°.html</id>
    <published>2018-01-16T08:55:01.000Z</published>
    <updated>2019-04-19T13:45:22.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>iOS æƒ³è¦æ£€æŸ¥ App å½“å‰ç‰ˆæœ¬æ˜¯å¦ä¸ºæœ€æ–°ï¼Œä¸€èˆ¬çš„æ–¹æ¡ˆå¤§æ¦‚éƒ½æ˜¯æœåŠ¡å™¨è‡ªå·±æä¾›ä¸€ä¸ªæ¥å£æ¥è·å– App æœ€æ–°ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Œç„¶åå†åšå‡ºç›¸åº”æç¤ºæ˜¯å¦éœ€è¦æ›´æ–°ï¼Œä½†æ˜¯æ¥å£éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ï¼Œåº”ç”¨è¦å®¡æ ¸ï¼Œè¿˜å¾—ç­‰å®¡æ ¸é€šè¿‡ä»¥åæ‰èƒ½æ›´æ–°ç‰ˆæœ¬å·ï¼Œå…¶å®è‹¹æœæä¾›äº†ä¸€ä¸ª iTunes æ¥å£ï¼Œèƒ½å¤ŸæŸ¥åˆ° App åœ¨ AppStore ä¸Šçš„çŠ¶æ€ä¿¡æ¯ï¼Œæ—¢çœäº‹åˆå‡†ç¡®ï¼Œä¸‹é¢è®°å½•ä¸€ä¸‹å…·ä½“å®ç°æ–¹æ³•ã€‚</p></blockquote><hr><h4 id="æ¥å£ä¿¡æ¯"><a href="#æ¥å£ä¿¡æ¯" class="headerlink" title="æ¥å£ä¿¡æ¯"></a>æ¥å£ä¿¡æ¯</h4><h5 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h5><p><span class="exturl" data-url="aHR0cDovL3d3dy5hcHBsZS5jb20vaXR1bmVzL2FmZmlsaWF0ZXMvcmVzb3VyY2VzL2RvY3VtZW50YXRpb24vaXR1bmVzLXN0b3JlLXdlYi1zZXJ2aWNlLXNlYXJjaC1hcGkuaHRtbA==" title="http://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html">iTunes æ¥å£åœ°å€<i class="fa fa-external-link"></i></span> </p><p>æœ‰å…´è¶£å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°çš„æ¥å£å¦‚ä¸‹ï¼Œxxx å¤„æ¢æˆè‡ªå·± App çš„ AppId ï¼ŒAppId å¯ä»¥åœ¨ iTunes Connect é‡Œé¢çœ‹åˆ°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://itunes.apple.com/lookup?id=xxx</span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="Response-JSON"><a href="#Response-JSON" class="headerlink" title="Response JSON"></a>Response JSON</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"resultCount"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"results"</span> : [&#123;</span><br><span class="line">        <span class="attr">"artistId"</span> : <span class="string">"å¼€å‘è€… ID"</span>,</span><br><span class="line">        <span class="attr">"artistName"</span> : <span class="string">"å¼€å‘è€…åç§°"</span>,</span><br><span class="line">        <span class="attr">"trackCensoredName"</span> : <span class="string">"å®¡æŸ¥åç§°"</span>,</span><br><span class="line">        <span class="attr">"trackContentRating"</span> : <span class="string">"è¯„çº§"</span>,</span><br><span class="line">        <span class="attr">"trackId"</span> : <span class="string">"åº”ç”¨ç¨‹åº ID"</span>,</span><br><span class="line">        "trackName" = "åº”ç”¨ç¨‹åºåç§°",</span><br><span class="line">        "trackViewUrl" = "åº”ç”¨ç¨‹åºä¸‹è½½ç½‘å€",</span><br><span class="line">        "userRatingCount" = "ç”¨æˆ·è¯„è®ºæ•°é‡",</span><br><span class="line">        "userRatingCountForCurrentVersion" = "å½“å‰ç‰ˆæœ¬çš„ç”¨æˆ·è¯„è®ºæ•°é‡",</span><br><span class="line">        "version" = "ç‰ˆæœ¬å·"</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h4><p>ä¸‹é¢æ˜¯æ£€æŸ¥ç‰ˆæœ¬æ›´æ–°çš„å…·ä½“å®ç°æ–¹æ³•ï¼Œæ³¨æ„æ¥å£åœ°å€ xxx å¤„æ¢æˆè‡ªå·± App çš„ AppId</p><ul><li>å¼€å§‹è¯·æ±‚</li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// æ£€æŸ¥ç‰ˆæœ¬æ›´æ–°</span></span><br><span class="line">- (<span class="keyword">void</span>)checkVersion &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *url = <span class="string">@"http://itunes.apple.com/lookup?id=xxx"</span>;</span><br><span class="line">    [[AFHTTPSessionManager manager] POST:url parameters:<span class="literal">nil</span> progress:<span class="literal">nil</span> success:^(<span class="built_in">NSURLSessionDataTask</span> *task, <span class="keyword">id</span> responseObject) &#123;</span><br><span class="line">        DLog(<span class="string">@"ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥æˆåŠŸ"</span>);</span><br><span class="line">        <span class="built_in">NSArray</span> *results = responseObject[<span class="string">@"results"</span>];</span><br><span class="line">        <span class="keyword">if</span> (results &amp;&amp; results.count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">NSDictionary</span> *response = results.firstObject;</span><br><span class="line">            <span class="built_in">NSString</span> *currentVersion = [[<span class="built_in">NSBundle</span> mainBundle] objectForInfoDictionaryKey:<span class="string">@"CFBundleShortVersionString"</span>]; <span class="comment">// è½¯ä»¶çš„å½“å‰ç‰ˆæœ¬</span></span><br><span class="line">            <span class="built_in">NSString</span> *lastestVersion = response[<span class="string">@"version"</span>]; <span class="comment">// AppStore ä¸Šè½¯ä»¶çš„æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">            <span class="keyword">if</span> (currentVersion &amp;&amp; lastestVersion &amp;&amp; ![<span class="keyword">self</span> isLastestVersion:currentVersion compare:lastestVersion]) &#123;</span><br><span class="line">                <span class="comment">// ç»™å‡ºæç¤ºæ˜¯å¦å‰å¾€ AppStore æ›´æ–°</span></span><br><span class="line">                <span class="built_in">UIAlertController</span> *alert = [<span class="built_in">UIAlertController</span> alertControllerWithTitle:<span class="string">@"æç¤º"</span> message:<span class="string">@"æ£€æµ‹åˆ°æœ‰ç‰ˆæœ¬æ›´æ–°ï¼Œæ˜¯å¦å‰å¾€ AppStore æ›´æ–°ç‰ˆæœ¬ã€‚"</span> preferredStyle:<span class="built_in">UIAlertControllerStyleAlert</span>];</span><br><span class="line">                [alert addAction:[<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"å‰å¾€"</span> style:<span class="built_in">UIAlertActionStyleDefault</span> handler:^(<span class="built_in">UIAlertAction</span> *action) &#123;</span><br><span class="line">                    <span class="built_in">NSString</span> *trackViewUrl = response[<span class="string">@"trackViewUrl"</span>]; <span class="comment">// AppStore ä¸Šè½¯ä»¶çš„åœ°å€</span></span><br><span class="line">                    <span class="keyword">if</span> (trackViewUrl) &#123;</span><br><span class="line">                        <span class="built_in">NSURL</span> *appStoreURL = [<span class="built_in">NSURL</span> URLWithString:trackViewUrl];</span><br><span class="line">                        <span class="keyword">if</span> ([[<span class="built_in">UIApplication</span> sharedApplication] canOpenURL:appStoreURL]) &#123;</span><br><span class="line">                            [[<span class="built_in">UIApplication</span> sharedApplication] openURL:appStoreURL];</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;]];</span><br><span class="line">                [alert addAction:[<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"å–æ¶ˆ"</span> style:<span class="built_in">UIAlertActionStyleCancel</span> handler:<span class="literal">nil</span>]];</span><br><span class="line">                [<span class="keyword">self</span>.window.rootViewController presentViewController:alert animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; failure:^(<span class="built_in">NSURLSessionDataTask</span> *task, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">        DLog(<span class="string">@"ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥å¤±è´¥"</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// åˆ¤æ–­æ˜¯å¦æœ€æ–°ç‰ˆæœ¬å·ï¼ˆå¤§äºæˆ–ç­‰äºä¸ºæœ€æ–°ï¼‰</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)isLastestVersion:(<span class="built_in">NSString</span> *)currentVersion compare:(<span class="built_in">NSString</span> *)lastestVersion &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentVersion &amp;&amp; lastestVersion) &#123;</span><br><span class="line">        <span class="comment">// æ‹†åˆ†æˆæ•°ç»„</span></span><br><span class="line">        <span class="built_in">NSMutableArray</span> *currentItems = [[currentVersion componentsSeparatedByString:<span class="string">@"."</span>] mutableCopy];</span><br><span class="line">        <span class="built_in">NSMutableArray</span> *lastestItems = [[lastestVersion componentsSeparatedByString:<span class="string">@"."</span>] mutableCopy];</span><br><span class="line">        <span class="comment">// å¦‚æœæ•°é‡ä¸ä¸€æ ·è¡¥0</span></span><br><span class="line">        <span class="built_in">NSInteger</span> currentCount = currentItems.count;</span><br><span class="line">        <span class="built_in">NSInteger</span> lastestCount = lastestItems.count;</span><br><span class="line">        <span class="keyword">if</span> (currentCount != lastestCount) &#123;</span><br><span class="line">            <span class="built_in">NSInteger</span> count = labs(currentCount - lastestCount); <span class="comment">// å–ç»å¯¹å€¼</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (currentCount &gt; lastestCount) &#123;</span><br><span class="line">                    [lastestItems addObject:<span class="string">@"0"</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    [currentItems addObject:<span class="string">@"0"</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¾æ¬¡æ¯”è¾ƒ</span></span><br><span class="line">        <span class="built_in">BOOL</span> isLastest = <span class="literal">YES</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; currentItems.count; ++i) &#123;</span><br><span class="line">            <span class="built_in">NSString</span> *currentItem = currentItems[i];</span><br><span class="line">            <span class="built_in">NSString</span> *lastestItem = lastestItems[i];</span><br><span class="line">            <span class="keyword">if</span> (currentItem.integerValue != lastestItem.integerValue) &#123;</span><br><span class="line">                isLastest = currentItem.integerValue &gt; lastestItem.integerValue;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isLastest;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;iOS æƒ³è¦æ£€æŸ¥ App å½“å‰ç‰ˆæœ¬æ˜¯å¦ä¸ºæœ€æ–°ï¼Œä¸€èˆ¬çš„æ–¹æ¡ˆå¤§æ¦‚éƒ½æ˜¯æœåŠ¡å™¨è‡ªå·±æä¾›ä¸€ä¸ªæ¥å£æ¥è·å– App æœ€æ–°ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Œç„¶åå†åšå‡ºç›¸åº”æç¤ºæ˜¯å¦éœ€è¦æ›´æ–°ï¼Œä½†æ˜¯æ¥å£éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ï¼Œåº”ç”¨è¦å®¡æ ¸ï¼Œè¿˜å¾—ç­‰å®¡æ ¸é€šè¿‡ä»¥åæ‰èƒ½æ›´æ–°ç‰ˆæœ¬å·ï¼Œå…¶å®è‹¹æœæä¾›äº†ä¸€ä¸ª iTunes æ¥å£ï¼Œèƒ½å¤ŸæŸ¥åˆ° App åœ¨ AppStore ä¸Šçš„çŠ¶æ€ä¿¡æ¯ï¼Œæ—¢çœäº‹åˆå‡†ç¡®ï¼Œä¸‹é¢è®°å½•ä¸€ä¸‹å…·ä½“å®ç°æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h4 id=&quot;æ¥å£ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#æ¥å£ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;æ¥å£ä¿¡æ¯&quot;&gt;&lt;/a&gt;æ¥å£ä¿¡æ¯&lt;/h4&gt;&lt;h5 id=&quot;URL&quot;&gt;&lt;a href=&quot;#URL&quot; class=&quot;headerlink&quot; title=&quot;URL&quot;&gt;&lt;/a&gt;URL&lt;/h5&gt;&lt;p&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cDovL3d3dy5hcHBsZS5jb20vaXR1bmVzL2FmZmlsaWF0ZXMvcmVzb3VyY2VzL2RvY3VtZW50YXRpb24vaXR1bmVzLXN0b3JlLXdlYi1zZXJ2aWNlLXNlYXJjaC1hcGkuaHRtbA==&quot; title=&quot;http://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html&quot;&gt;iTunes æ¥å£åœ°å€&lt;i class=&quot;fa fa-external-link&quot;&gt;&lt;/i&gt;&lt;/span&gt; &lt;/p&gt;
&lt;p&gt;æœ‰å…´è¶£å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°çš„æ¥å£å¦‚ä¸‹ï¼Œxxx å¤„æ¢æˆè‡ªå·± App çš„ AppId ï¼ŒAppId å¯ä»¥åœ¨ iTunes Connect é‡Œé¢çœ‹åˆ°ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http://itunes.apple.com/lookup?id=xxx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://nilhy.cn/categories/iOS/"/>
    
    
      <category term="ç‰ˆæœ¬æ›´æ–°" scheme="http://nilhy.cn/tags/%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0/"/>
    
  </entry>
  
  <entry>
    <title>Swift-é‡å†™ä¸é‡è½½çš„ä½¿ç”¨å’Œæ¯”è¾ƒ</title>
    <link href="http://nilhy.cn/2017/10/03/iOS/Swift/Swift-%E9%87%8D%E5%86%99%E4%B8%8E%E9%87%8D%E8%BD%BD%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E6%AF%94%E8%BE%83.html"/>
    <id>http://nilhy.cn/2017/10/03/iOS/Swift/Swift-é‡å†™ä¸é‡è½½çš„ä½¿ç”¨å’Œæ¯”è¾ƒ.html</id>
    <published>2017-10-03T06:11:09.000Z</published>
    <updated>2019-04-19T13:46:50.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-é‡è½½"><a href="#1-é‡è½½" class="headerlink" title="1.é‡è½½:"></a>1.é‡è½½:</h3><ul><li>å‡½æ•°åç›¸åŒï¼Œå‚æ•°å;å‚æ•°ç±»å‹;å‚æ•°ä¸ªæ•°ä¸åŒ</li><li>é‡è½½å‡½æ•°å¹¶ä¸ä»…ä»…å±€é™äºæ„é€ å‡½æ•°</li><li>å‡½æ•°é‡è½½æ˜¯é¢ç›¸å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€çš„é‡è¦æ ‡å¿—</li><li>OC ä¸æ”¯æŒå‡½æ•°é‡è½½ï¼ŒOC çš„æ›¿ä»£æ–¹å¼æ˜¯ withXXXâ€¦</li></ul><h3 id="2-é‡å†™ï¼š"><a href="#2-é‡å†™ï¼š" class="headerlink" title="2. é‡å†™ï¼š"></a>2. é‡å†™ï¼š</h3><ul><li>ä¹Ÿå«è¦†ç›–ï¼ŒæŒ‡åœ¨å­ç±»ä¸­å®šä¹‰ä¸€ä¸ªä¸çˆ¶ç±»ä¸­æ–¹æ³•åŒååŒå‚æ•°åˆ—è¡¨çš„æ–¹æ³•ã€‚</li><li>é‡å†™æ˜¯å­ç±»çš„æ–¹æ³•è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¦æ±‚æ–¹æ³•åå’Œå‚æ•°éƒ½ç›¸åŒ</li><li>å› ä¸ºå­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œé‡å†™å°±æ˜¯å°†ä»çˆ¶ç±»ç»§æ‰¿è¿‡æ¥çš„æ–¹æ³•é‡æ–°å®šä¹‰ä¸€æ¬¡ï¼Œé‡æ–°å¡«å†™æ–¹æ³•ä¸­çš„ä»£ç ã€‚</li><li>é‡å†™å¿…é¡»ç»§æ‰¿ï¼Œé‡è½½ä¸ç”¨</li><li>å‡è®¾æœ‰ä¸€ä¸ªPersonç±»,ç”¨äº <code>name</code> å’Œ <code>age</code> ä¸¤ä¸ªå±æ€§,æˆ‘ä»¬åˆ†åˆ«ç”¨é‡å†™å’Œé‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ å±æ€§</li></ul><a id="more"></a><h4 id="åˆ›å»ºPersonç±»"><a href="#åˆ›å»ºPersonç±»" class="headerlink" title="åˆ›å»ºPersonç±»"></a>åˆ›å»ºPersonç±»</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> <span class="comment">// å§“å</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span>     <span class="comment">// å¹´é¾„</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>,age: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">        <span class="keyword">self</span>.age  = age</span><br><span class="line">        <span class="comment">// å¿…é¡»åœ¨ super.init() ä¹‹å‰ åˆå§‹åŒ–å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é€šè¿‡é‡å†™æ–¹æ³•ä¸ºå…¶æ·»åŠ -â€œlessonâ€-å±æ€§"><a href="#é€šè¿‡é‡å†™æ–¹æ³•ä¸ºå…¶æ·»åŠ -â€œlessonâ€-å±æ€§" class="headerlink" title="é€šè¿‡é‡å†™æ–¹æ³•ä¸ºå…¶æ·»åŠ  â€œlessonâ€ å±æ€§"></a>é€šè¿‡é‡å†™æ–¹æ³•ä¸ºå…¶æ·»åŠ  â€œlessonâ€ å±æ€§</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> lesson: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// é‡å†™</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameters:</span></span><br><span class="line">    <span class="comment">///   - name: å§“å</span></span><br><span class="line">    <span class="comment">///   - age:  å¹´é¾„</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>) &#123;</span><br><span class="line"></span><br><span class="line">        lesson = <span class="string">"Python"</span> <span class="comment">// å¿…é¡»æ”¾åœ¨super.init()ä¹‹å‰</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name, age: age)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// é‡å†™å®ä¾‹åŒ–çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="type">Student</span>(name: <span class="string">"Joyce"</span>, age: <span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(s.lesson) <span class="comment">// Python</span></span><br></pre></td></tr></table></figure><h4 id="é€šè¿‡é‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ -â€œlessonâ€-å±æ€§"><a href="#é€šè¿‡é‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ -â€œlessonâ€-å±æ€§" class="headerlink" title="é€šè¿‡é‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ  â€œlessonâ€ å±æ€§"></a>é€šè¿‡é‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ  â€œlessonâ€ å±æ€§</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> lesson: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// é‡è½½</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameters:</span></span><br><span class="line">    <span class="comment">///   - name: å§“å</span></span><br><span class="line">    <span class="comment">///   - age:  å¹´é¾„</span></span><br><span class="line">    <span class="comment">///   - lesson: è¯¾ç¨‹</span></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>, lesson:<span class="type">String</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.lesson = lesson</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name, age: age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// é‡è½½å®ä¾‹åŒ–çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="type">Student</span>(name: <span class="string">"Yang"</span>, age: <span class="number">24</span>, lesson: <span class="string">"iOS"</span>)</span><br><span class="line"><span class="built_in">print</span>(s1.lesson) <span class="comment">// iOS</span></span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“:"></a>æ€»ç»“:</h3><ul><li>é€šè¿‡é‡è½½,å¯ä»¥å¿«é€Ÿä¸ºæ–¹æ³•æ·»åŠ æ–°çš„å±æ€§,å±æ€§å¯ä»¥é€šè¿‡å¤–éƒ¨ä¼ å…¥</li><li>é‡å†™,åªèƒ½åœ¨æ–¹æ³•å†…éƒ¨è®¾ç½®å±æ€§,å¤–éƒ¨æ— æ³•ç›´è§‚çœ‹åˆ°ç±»çš„å‚æ•°åˆ—è¡¨</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-é‡è½½&quot;&gt;&lt;a href=&quot;#1-é‡è½½&quot; class=&quot;headerlink&quot; title=&quot;1.é‡è½½:&quot;&gt;&lt;/a&gt;1.é‡è½½:&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å‡½æ•°åç›¸åŒï¼Œå‚æ•°å;å‚æ•°ç±»å‹;å‚æ•°ä¸ªæ•°ä¸åŒ&lt;/li&gt;
&lt;li&gt;é‡è½½å‡½æ•°å¹¶ä¸ä»…ä»…å±€é™äºæ„é€ å‡½æ•°&lt;/li&gt;
&lt;li&gt;å‡½æ•°é‡è½½æ˜¯é¢ç›¸å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€çš„é‡è¦æ ‡å¿—&lt;/li&gt;
&lt;li&gt;OC ä¸æ”¯æŒå‡½æ•°é‡è½½ï¼ŒOC çš„æ›¿ä»£æ–¹å¼æ˜¯ withXXXâ€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;2-é‡å†™ï¼š&quot;&gt;&lt;a href=&quot;#2-é‡å†™ï¼š&quot; class=&quot;headerlink&quot; title=&quot;2. é‡å†™ï¼š&quot;&gt;&lt;/a&gt;2. é‡å†™ï¼š&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ä¹Ÿå«è¦†ç›–ï¼ŒæŒ‡åœ¨å­ç±»ä¸­å®šä¹‰ä¸€ä¸ªä¸çˆ¶ç±»ä¸­æ–¹æ³•åŒååŒå‚æ•°åˆ—è¡¨çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;é‡å†™æ˜¯å­ç±»çš„æ–¹æ³•è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¦æ±‚æ–¹æ³•åå’Œå‚æ•°éƒ½ç›¸åŒ&lt;/li&gt;
&lt;li&gt;å› ä¸ºå­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œé‡å†™å°±æ˜¯å°†ä»çˆ¶ç±»ç»§æ‰¿è¿‡æ¥çš„æ–¹æ³•é‡æ–°å®šä¹‰ä¸€æ¬¡ï¼Œé‡æ–°å¡«å†™æ–¹æ³•ä¸­çš„ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;é‡å†™å¿…é¡»ç»§æ‰¿ï¼Œé‡è½½ä¸ç”¨&lt;/li&gt;
&lt;li&gt;å‡è®¾æœ‰ä¸€ä¸ªPersonç±»,ç”¨äº &lt;code&gt;name&lt;/code&gt; å’Œ &lt;code&gt;age&lt;/code&gt; ä¸¤ä¸ªå±æ€§,æˆ‘ä»¬åˆ†åˆ«ç”¨é‡å†™å’Œé‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ å±æ€§&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://nilhy.cn/categories/iOS/"/>
    
    
      <category term="Swift" scheme="http://nilhy.cn/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>swift-ç±»å’Œç»“æ„ä½“(class&amp;struct)</title>
    <link href="http://nilhy.cn/2017/10/02/swift-class&amp;struct.html"/>
    <id>http://nilhy.cn/2017/10/02/swift-class&amp;struct.html</id>
    <published>2017-10-02T14:43:42.000Z</published>
    <updated>2019-04-19T13:47:03.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“-åœ¨-swift-ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹-éƒ½æ˜¯ç»“æ„ä½“ç±»å‹"><a href="#è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“-åœ¨-swift-ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹-éƒ½æ˜¯ç»“æ„ä½“ç±»å‹" class="headerlink" title="è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“,åœ¨ swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹,éƒ½æ˜¯ç»“æ„ä½“ç±»å‹"></a>è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“,åœ¨ swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹,éƒ½æ˜¯ç»“æ„ä½“ç±»å‹</h3><ul><li>æ•´æ•°ï¼ˆIntegerï¼‰</li><li>æµ®ç‚¹æ•°ï¼ˆfloating-pointï¼‰</li><li>å¸ƒå°”å€¼ï¼ˆBooleanï¼‰</li><li>å­—ç¬¦ä¸²ï¼ˆstring)</li><li>æ•°ç»„ï¼ˆarray)</li><li>å­—å…¸ï¼ˆdictionaryï¼‰</li></ul><hr><h3 id="åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š"><a href="#åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š" class="headerlink" title="åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š"></a>åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š</h3><h4 id="å¼•ç”¨ç±»å‹"><a href="#å¼•ç”¨ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹"></a>å¼•ç”¨ç±»å‹</h4><blockquote><p>å¼•ç”¨ç±»å‹åœ¨è¢«èµ‹äºˆåˆ°ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå…¶å€¼ä¸ä¼šè¢«æ‹·è´ã€‚å› æ­¤ï¼Œå¼•ç”¨çš„æ˜¯å·²å­˜åœ¨çš„å®ä¾‹æœ¬èº«è€Œä¸æ˜¯å…¶æ‹·è´</p></blockquote><h4 id="å€¼ç±»å‹"><a href="#å€¼ç±»å‹" class="headerlink" title="å€¼ç±»å‹"></a>å€¼ç±»å‹</h4><blockquote><p>å®ƒä»¬çš„å®ä¾‹ï¼Œä»¥åŠå®ä¾‹ä¸­æ‰€åŒ…å«çš„ä»»ä½•å€¼ç±»å‹å±æ€§ï¼Œåœ¨ä»£ç ä¸­ä¼ é€’çš„æ—¶å€™éƒ½ä¼šè¢«å¤åˆ¶</p></blockquote><a id="more"></a><h3 id="ç±»å’Œç»“æ„ä½“å¯¹æ¯”"><a href="#ç±»å’Œç»“æ„ä½“å¯¹æ¯”" class="headerlink" title="ç±»å’Œç»“æ„ä½“å¯¹æ¯”"></a>ç±»å’Œç»“æ„ä½“å¯¹æ¯”</h3><h4 id="æœ¬è´¨åŒºåˆ«ï¼š"><a href="#æœ¬è´¨åŒºåˆ«ï¼š" class="headerlink" title="æœ¬è´¨åŒºåˆ«ï¼š"></a>æœ¬è´¨åŒºåˆ«ï¼š</h4><ul><li>ç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œå®ä¾‹æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’</li><li>ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œå®ä¾‹æ˜¯é€šè¿‡å€¼ä¼ é€’</li></ul><h4 id="swift-ä¸­ç±»å’Œç»“æ„ä½“æœ‰å¾ˆå¤šå…±åŒç‚¹"><a href="#swift-ä¸­ç±»å’Œç»“æ„ä½“æœ‰å¾ˆå¤šå…±åŒç‚¹" class="headerlink" title="swift ä¸­ç±»å’Œç»“æ„ä½“æœ‰å¾ˆå¤šå…±åŒç‚¹"></a>swift ä¸­ç±»å’Œç»“æ„ä½“æœ‰å¾ˆå¤šå…±åŒç‚¹</h4><ul><li>å®šä¹‰å±æ€§ç”¨äºå­˜å‚¨å€¼</li><li>å®šä¹‰æ–¹æ³•ç”¨äºæä¾›åŠŸèƒ½</li><li>å®šä¹‰ä¸‹æ ‡æ“ä½œä½¿å¾—å¯ä»¥é€šè¿‡ä¸‹æ ‡è¯­æ³•æ¥è®¿é—®å®ä¾‹æ‰€åŒ…å«çš„å€¼</li><li>å®šä¹‰æ„é€ å™¨ç”¨äºç”Ÿæˆåˆå§‹åŒ–å€¼</li><li>é€šè¿‡æ‰©å±•ä»¥å¢åŠ é»˜è®¤å®ç°çš„åŠŸèƒ½</li><li>å®ç°åè®®ä»¥æä¾›æŸç§æ ‡å‡†åŠŸèƒ½</li></ul><h4 id="ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»è¿˜æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½"><a href="#ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»è¿˜æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½" class="headerlink" title="ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»è¿˜æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½"></a>ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»è¿˜æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½</h4><ul><li>ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹å¾</li><li>ç±»å‹è½¬æ¢å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šä¸€ä¸ªç±»å®ä¾‹çš„ç±»å‹</li><li>ææ„å™¨å…è®¸ä¸€ä¸ªç±»å®ä¾‹é‡Šæ”¾ä»»ä½•å…¶æ‰€è¢«åˆ†é…çš„èµ„æº</li><li>å¼•ç”¨è®¡æ•°å…è®¸å¯¹ä¸€ä¸ªç±»çš„å¤šæ¬¡å¼•ç”¨</li></ul><h4 id="ç»“æ„ä½“å’Œç±»çš„å®šä¹‰è¯­æ³•"><a href="#ç»“æ„ä½“å’Œç±»çš„å®šä¹‰è¯­æ³•" class="headerlink" title="ç»“æ„ä½“å’Œç±»çš„å®šä¹‰è¯­æ³•"></a>ç»“æ„ä½“å’Œç±»çš„å®šä¹‰è¯­æ³•</h4><h5 id="ç»“æ„ä½“å®šä¹‰è¯­æ³•"><a href="#ç»“æ„ä½“å®šä¹‰è¯­æ³•" class="headerlink" title="ç»“æ„ä½“å®šä¹‰è¯­æ³•"></a>ç»“æ„ä½“å®šä¹‰è¯­æ³•</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SomeStructure</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œå®šä¹‰ç»“æ„ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€æœ‰ç»“æ„ä½“éƒ½æœ‰ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æˆå‘˜é€ä¸€æ„é€ å™¨ï¼Œç”¨äºåˆå§‹åŒ–æ–°ç»“æ„ä½“å®ä¾‹ä¸­æˆå‘˜çš„å±æ€§</p><h5 id="ç±»å®šä¹‰è¯­æ³•-ï¼ˆä¸€ï¼‰"><a href="#ç±»å®šä¹‰è¯­æ³•-ï¼ˆä¸€ï¼‰" class="headerlink" title="ç±»å®šä¹‰è¯­æ³• ï¼ˆä¸€ï¼‰"></a>ç±»å®šä¹‰è¯­æ³• ï¼ˆä¸€ï¼‰</h5><blockquote><p>ä¸ç»§æ‰¿NSObjectçš„ç±»ï¼Œå«åšåŸºç±»</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œå®šä¹‰ç±»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç±»å®šä¹‰è¯­æ³•-ï¼ˆäºŒï¼‰"><a href="#ç±»å®šä¹‰è¯­æ³•-ï¼ˆäºŒï¼‰" class="headerlink" title="ç±»å®šä¹‰è¯­æ³• ï¼ˆäºŒï¼‰"></a>ç±»å®šä¹‰è¯­æ³• ï¼ˆäºŒï¼‰</h5><blockquote><p>è¿™ç§ç±»ç»§æ‰¿è‡ªNSObject,å¯ä»¥ä½¿ç”¨OCä¸­çš„ NSObject çš„ç‰¹æ€§ eg:KVO,runtime</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œå®šä¹‰ç±»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç±»å’Œç»“æ„ä½“ä½¿ç”¨æ³¨æ„"><a href="#ç±»å’Œç»“æ„ä½“ä½¿ç”¨æ³¨æ„" class="headerlink" title="ç±»å’Œç»“æ„ä½“ä½¿ç”¨æ³¨æ„"></a>ç±»å’Œç»“æ„ä½“ä½¿ç”¨æ³¨æ„</h4><p>ç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œå…¶å±æ€§å¦‚æœæ˜¯å¯å˜ç±»å‹ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œä¿®æ”¹åç±»å‹ä¸å˜<br>ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œåˆå§‹åŒ–å®Œæˆåï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸å…è®¸ä¿®æ”¹å…¶å±æ€§ï¼›å¦‚æœä¿®æ”¹å…¶å±æ€§ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ç»“æ„ä½“ï¼›å¦‚æœæƒ³ä¸æ”¹å˜ç»“æ„ä½“çš„ç±»å‹ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªmutatingä¿®é¥°çš„æ–¹æ³•ï¼Œä¸“é—¨ç”¨æ¥ä¿®æ”¹å…¶å±æ€§</p><h4 id="å†™æ—¶å¤åˆ¶-copy-on-write"><a href="#å†™æ—¶å¤åˆ¶-copy-on-write" class="headerlink" title="å†™æ—¶å¤åˆ¶ (copy-on-write)"></a>å†™æ—¶å¤åˆ¶ (copy-on-write)</h4><p>swiftç”¨äº†å¤§é‡çš„ç»“æ„ä½“ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½æ˜¯å¤åˆ¶ä¸€ä»½ï¼Œæ˜¯ä¸æ˜¯å¾ˆæµªè´¹å†…å­˜ï¼Ÿ</p><p>ç­”ï¼šåœ¨ swift æ ‡å‡†åº“ä¸­ï¼Œåƒæ˜¯ Arrayï¼ŒDictionary å’Œ Set è¿™æ ·çš„é›†åˆç±»å‹æ˜¯é€šè¿‡ä¸€ç§å«åšå†™æ—¶å¤åˆ¶ (copy-on-write) çš„æŠ€æœ¯å®ç°çš„ï¼Œè¯¥æŠ€æœ¯ä¼˜åŒ–äº†è¿™ä¸€é—®é¢˜ï¼Œè®©ç»“æ„ä½“åœ¨æ ¸åˆé€‚çš„æ—¶å€™æ‰è¿›è¡Œå¤åˆ¶ã€‚</p><h4 id="ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©"><a href="#ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©" class="headerlink" title="ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©"></a>ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©</h4><p>å½“ç¬¦åˆä¸€æ¡æˆ–å¤šæ¡ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œè¯·è€ƒè™‘æ„å»ºç»“æ„ä½“ï¼š</p><ul><li>è¯¥æ•°æ®ç»“æ„çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥å°è£…å°‘é‡ç›¸å…³ç®€å•æ•°æ®å€¼ï¼›</li><li>æœ‰ç†ç”±é¢„è®¡è¯¥æ•°æ®ç»“æ„çš„å®ä¾‹åœ¨è¢«èµ‹å€¼æˆ–ä¼ é€’æ—¶ï¼Œå°è£…çš„æ•°æ®å°†ä¼šè¢«æ‹·è´è€Œä¸æ˜¯è¢«å¼•ç”¨ï¼›</li><li>è¯¥æ•°æ®ç»“æ„ä¸­å‚¨å­˜çš„å€¼ç±»å‹å±æ€§ï¼Œä¹Ÿåº”è¯¥è¢«æ‹·è´ï¼Œè€Œä¸æ˜¯è¢«å¼•ç”¨ï¼›</li><li>è¯¥æ•°æ®ç»“æ„ä¸éœ€è¦å»ç»§æ‰¿å¦ä¸€ä¸ªæ—¢æœ‰ç±»å‹çš„å±æ€§æˆ–è€…è¡Œä¸ºã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“-åœ¨-swift-ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹-éƒ½æ˜¯ç»“æ„ä½“ç±»å‹&quot;&gt;&lt;a href=&quot;#è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“-åœ¨-swift-ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹-éƒ½æ˜¯ç»“æ„ä½“ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“,åœ¨ swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹,éƒ½æ˜¯ç»“æ„ä½“ç±»å‹&quot;&gt;&lt;/a&gt;è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æ„ä½“,åœ¨ swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹,éƒ½æ˜¯ç»“æ„ä½“ç±»å‹&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ•´æ•°ï¼ˆIntegerï¼‰&lt;/li&gt;
&lt;li&gt;æµ®ç‚¹æ•°ï¼ˆfloating-pointï¼‰&lt;/li&gt;
&lt;li&gt;å¸ƒå°”å€¼ï¼ˆBooleanï¼‰&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ä¸²ï¼ˆstring)&lt;/li&gt;
&lt;li&gt;æ•°ç»„ï¼ˆarray)&lt;/li&gt;
&lt;li&gt;å­—å…¸ï¼ˆdictionaryï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&quot;åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š&quot;&gt;&lt;a href=&quot;#åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š&quot;&gt;&lt;/a&gt;åœ¨æ¯”è¾ƒç±»å’Œç»“æ„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼š&lt;/h3&gt;&lt;h4 id=&quot;å¼•ç”¨ç±»å‹&quot;&gt;&lt;a href=&quot;#å¼•ç”¨ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;å¼•ç”¨ç±»å‹&quot;&gt;&lt;/a&gt;å¼•ç”¨ç±»å‹&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;å¼•ç”¨ç±»å‹åœ¨è¢«èµ‹äºˆåˆ°ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå…¶å€¼ä¸ä¼šè¢«æ‹·è´ã€‚å› æ­¤ï¼Œå¼•ç”¨çš„æ˜¯å·²å­˜åœ¨çš„å®ä¾‹æœ¬èº«è€Œä¸æ˜¯å…¶æ‹·è´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;å€¼ç±»å‹&quot;&gt;&lt;a href=&quot;#å€¼ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;å€¼ç±»å‹&quot;&gt;&lt;/a&gt;å€¼ç±»å‹&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;å®ƒä»¬çš„å®ä¾‹ï¼Œä»¥åŠå®ä¾‹ä¸­æ‰€åŒ…å«çš„ä»»ä½•å€¼ç±»å‹å±æ€§ï¼Œåœ¨ä»£ç ä¸­ä¼ é€’çš„æ—¶å€™éƒ½ä¼šè¢«å¤åˆ¶&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://nilhy.cn/categories/iOS/"/>
    
    
      <category term="Swift" scheme="http://nilhy.cn/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>Python-åˆ‡ç‰‡ä½¿ç”¨è¯¦è§£</title>
    <link href="http://nilhy.cn/2017/05/20/Python/basics/Python-%E5%88%87%E7%89%87%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html"/>
    <id>http://nilhy.cn/2017/05/20/Python/basics/Python-åˆ‡ç‰‡ä½¿ç”¨è¯¦è§£.html</id>
    <published>2017-05-20T05:49:01.000Z</published>
    <updated>2018-07-11T01:41:24.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åˆ‡ç‰‡å«ä¹‰"><a href="#åˆ‡ç‰‡å«ä¹‰" class="headerlink" title="åˆ‡ç‰‡å«ä¹‰"></a>åˆ‡ç‰‡å«ä¹‰</h3><blockquote><p>åˆ‡ç‰‡æ˜¯æŒ‡å¯¹æ“ä½œçš„å¯¹è±¡æˆªå–å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ“ä½œã€‚å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„éƒ½æ”¯æŒåˆ‡ç‰‡æ“ä½œã€‚</p></blockquote><h3 id="åˆ‡ç‰‡ä½¿ç”¨"><a href="#åˆ‡ç‰‡ä½¿ç”¨" class="headerlink" title="åˆ‡ç‰‡ä½¿ç”¨"></a>åˆ‡ç‰‡ä½¿ç”¨</h3><blockquote><p> åˆ‡ç‰‡çš„è¯­æ³•: [<code>èµ·å§‹</code>:<code>ç»“æŸ</code>:<code>æ­¥é•¿</code>]</p></blockquote><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'abcdef'</span></span><br><span class="line"></span><br><span class="line">print(name[<span class="number">0</span>:<span class="number">3</span>]) <span class="comment"># å– ä¸‹æ ‡0~2 çš„å­—ç¬¦</span></span><br></pre></td></tr></table></figure><h4 id="1-æˆªå–æ‰€æœ‰å­—ç¬¦ä¸²"><a href="#1-æˆªå–æ‰€æœ‰å­—ç¬¦ä¸²" class="headerlink" title="1. æˆªå–æ‰€æœ‰å­—ç¬¦ä¸²"></a>1. æˆªå–æ‰€æœ‰å­—ç¬¦ä¸²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'abcdef'</span></span><br><span class="line">name[:] </span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line"><span class="comment">#### 2. æˆªå–æœ€åä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">    </span><br><span class="line">```Python</span><br><span class="line">name = <span class="string">'abcdef'</span></span><br><span class="line">name[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure><h4 id="3-åè½¬å­—ç¬¦ä¸²ï¼š"><a href="#3-åè½¬å­—ç¬¦ä¸²ï¼š" class="headerlink" title="3. åè½¬å­—ç¬¦ä¸²ï¼š"></a>3. åè½¬å­—ç¬¦ä¸²ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">'abcdef'</span></span><br><span class="line">name[<span class="number">-1</span>:<span class="number">0</span>:<span class="number">-1</span>]</span><br></pre></td></tr></table></figure><h3 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h3><h4 id="æ­¥è¿›æ•°å€¼æ„å‘³ç€åˆ‡ç‰‡çš„æ–¹å‘åŠé•¿åº¦"><a href="#æ­¥è¿›æ•°å€¼æ„å‘³ç€åˆ‡ç‰‡çš„æ–¹å‘åŠé•¿åº¦" class="headerlink" title="æ­¥è¿›æ•°å€¼æ„å‘³ç€åˆ‡ç‰‡çš„æ–¹å‘åŠé•¿åº¦"></a>æ­¥è¿›æ•°å€¼æ„å‘³ç€åˆ‡ç‰‡çš„æ–¹å‘åŠé•¿åº¦</h4><ul><li><code>- 1</code> å€’ç€åˆ‡ç‰‡</li><li><code>+ 1</code> é»˜è®¤ï¼Œæ­£å¸¸åˆ‡ç‰‡</li></ul><h4 id="æ³¨æ„ï¼šé€‰å–çš„åŒºé—´å±äºå·¦é—­å³å¼€å‹ï¼Œå³ä»â€èµ·å§‹â€ä½å¼€å§‹ï¼Œåˆ°â€ç»“æŸâ€ä½çš„å‰ä¸€ä½ç»“æŸï¼ˆä¸åŒ…å«ç»“æŸä½æœ¬èº«-ã€‚"><a href="#æ³¨æ„ï¼šé€‰å–çš„åŒºé—´å±äºå·¦é—­å³å¼€å‹ï¼Œå³ä»â€èµ·å§‹â€ä½å¼€å§‹ï¼Œåˆ°â€ç»“æŸâ€ä½çš„å‰ä¸€ä½ç»“æŸï¼ˆä¸åŒ…å«ç»“æŸä½æœ¬èº«-ã€‚" class="headerlink" title="æ³¨æ„ï¼šé€‰å–çš„åŒºé—´å±äºå·¦é—­å³å¼€å‹ï¼Œå³ä»â€èµ·å§‹â€ä½å¼€å§‹ï¼Œåˆ°â€ç»“æŸâ€ä½çš„å‰ä¸€ä½ç»“æŸï¼ˆä¸åŒ…å«ç»“æŸä½æœ¬èº«)ã€‚*"></a>æ³¨æ„ï¼šé€‰å–çš„åŒºé—´å±äºå·¦é—­å³å¼€å‹ï¼Œå³ä»â€èµ·å§‹â€ä½å¼€å§‹ï¼Œåˆ°â€ç»“æŸâ€ä½çš„å‰ä¸€ä½ç»“æŸï¼ˆä¸åŒ…å«ç»“æŸä½æœ¬èº«)ã€‚*</h4>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;åˆ‡ç‰‡å«ä¹‰&quot;&gt;&lt;a href=&quot;#åˆ‡ç‰‡å«ä¹‰&quot; class=&quot;headerlink&quot; title=&quot;åˆ‡ç‰‡å«ä¹‰&quot;&gt;&lt;/a&gt;åˆ‡ç‰‡å«ä¹‰&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;åˆ‡ç‰‡æ˜¯æŒ‡å¯¹æ“ä½œçš„å¯¹è±¡æˆªå–å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ“ä½œã€‚å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„éƒ½æ”¯æŒåˆ‡ç‰‡æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;åˆ‡ç‰‡ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#åˆ‡ç‰‡ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;åˆ‡ç‰‡ä½¿ç”¨&quot;&gt;&lt;/a&gt;åˆ‡ç‰‡ä½¿ç”¨&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt; åˆ‡ç‰‡çš„è¯­æ³•: [&lt;code&gt;èµ·å§‹&lt;/code&gt;:&lt;code&gt;ç»“æŸ&lt;/code&gt;:&lt;code&gt;æ­¥é•¿&lt;/code&gt;]&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Python" scheme="http://nilhy.cn/categories/Python/"/>
    
    
      <category term="Python" scheme="http://nilhy.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Python-stringä½¿ç”¨</title>
    <link href="http://nilhy.cn/2017/05/14/pythonstring.html"/>
    <id>http://nilhy.cn/2017/05/14/pythonstring.html</id>
    <published>2017-05-14T14:59:47.000Z</published>
    <updated>2018-07-11T01:41:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="string-å¸¸è§æ“ä½œ"><a href="#string-å¸¸è§æ“ä½œ" class="headerlink" title="string å¸¸è§æ“ä½œ"></a>string å¸¸è§æ“ä½œ</h2><p><code>&#39;mystr = &#39;hello nilhy , This is Python demo&#39;</code></p><h3 id="find"><a href="#find" class="headerlink" title="find"></a><1>find</1></h3><p>æ£€æµ‹ <code>str</code> æ˜¯å¦åŒ…å«åœ¨ <code>mystr</code> ä¸­ï¼Œå¦‚æœæ˜¯è¿”å›å¼€å§‹çš„<code>ç´¢å¼•å€¼</code>ï¼Œå¦åˆ™è¿”å› <code>-1</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®°ä½,è¿”å›çš„æ˜¯æ‰€åœ¨ä½ç½®ç´¢å¼•å€¼,æ²¡æ‰¾åˆ°å°±è¿”å›-1</span></span><br><span class="line">mystr.find(str, start=<span class="number">0</span>, end=len(mystr))</span><br></pre></td></tr></table></figure><h3 id="index"><a href="#index" class="headerlink" title=" index"></a><2> index</2></h3><p>è·Ÿfind()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æœsträ¸åœ¨ mysträ¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœæ²¡æœ‰æ‰¾åˆ°,ä¼šæŠ›å‡ºå¼‚å¸¸'substring not found'</span></span><br><span class="line">mystr.index(str, start=<span class="number">0</span>, end=len(mystr))</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="count"><a href="#count" class="headerlink" title="count"></a><3>count</3></h3><p>è¿”å› stråœ¨startå’Œendä¹‹é—´ åœ¨ mystré‡Œé¢å‡ºç°çš„æ¬¡æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.count(str, start=<span class="number">0</span>, end=len(mystr))</span><br></pre></td></tr></table></figure><h3 id="replace"><a href="#replace" class="headerlink" title="replace"></a><4>replace</4></h3><p>æŠŠ mystr ä¸­çš„ str1 æ›¿æ¢æˆ str2,å¦‚æœ count æŒ‡å®šï¼Œåˆ™æ›¿æ¢ä¸è¶…è¿‡ count æ¬¡.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®°ä½è¿™é‡Œæ›¿æ¢ä¹‹åä¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</span></span><br><span class="line">mystr.replace(str1, str2,  mystr.count(str1))</span><br></pre></td></tr></table></figure><h3 id="split"><a href="#split" class="headerlink" title="split"></a><5>split</5></h3><p>ä»¥ str ä¸ºåˆ†éš”ç¬¦åˆ‡ç‰‡ mystrï¼Œå¦‚æœ maxsplitæœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…åˆ†éš” maxsplit ä¸ªå­å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‰ç…§ç©ºæ ¼å­—ç¬¦ä¸²æ‹†åˆ†,å‚æ•°2ä¸ºæœ€å¤§æ‹†åˆ†æ•°</span></span><br><span class="line">mystr.split(str=<span class="string">" "</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="capitalize"><a href="#capitalize" class="headerlink" title="capitalize"></a><6>capitalize</6></h3><p>æŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.capitalize()</span><br></pre></td></tr></table></figure><h3 id="title"><a href="#title" class="headerlink" title="title"></a><7>title</7></h3><p>æŠŠå­—ç¬¦ä¸²çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="string">"hello jianshu"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.title()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello Jianshu'</span></span><br></pre></td></tr></table></figure><h3 id="startswith"><a href="#startswith" class="headerlink" title="startswith"></a><8>startswith</8></h3><p>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ obj å¼€å¤´, æ˜¯åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.startswith(obj)</span><br></pre></td></tr></table></figure><h3 id="endswith"><a href="#endswith" class="headerlink" title="endswith"></a><9>endswith</9></h3><p>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥objç»“æŸï¼Œå¦‚æœæ˜¯è¿”å›True,å¦åˆ™è¿”å› False.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.endswith(obj)</span><br></pre></td></tr></table></figure><h3 id="lower"><a href="#lower" class="headerlink" title="lower"></a><10>lower</10></h3><p>è½¬æ¢ mystr ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.lower()</span><br></pre></td></tr></table></figure><h3 id="upper"><a href="#upper" class="headerlink" title="upper"></a><11>upper</11></h3><p>è½¬æ¢ mystr ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.upper()</span><br></pre></td></tr></table></figure><h3 id="ljust"><a href="#ljust" class="headerlink" title="ljust"></a><12>ljust</12></h3><p>è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å·¦å¯¹é½,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.ljust(width)</span><br></pre></td></tr></table></figure><h3 id="rjust"><a href="#rjust" class="headerlink" title="rjust"></a><13>rjust</13></h3><p>è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å³å¯¹é½,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.rjust(width)</span><br></pre></td></tr></table></figure><h3 id="center"><a href="#center" class="headerlink" title="center"></a><14>center</14></h3><p>è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å±…ä¸­,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.center(width)</span><br></pre></td></tr></table></figure><h3 id="lstrip"><a href="#lstrip" class="headerlink" title="lstrip"></a><15>lstrip</15></h3><p>åˆ é™¤ mystr å·¦è¾¹çš„ç©ºç™½å­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.lstrip()</span><br></pre></td></tr></table></figure><h3 id="rstrip"><a href="#rstrip" class="headerlink" title="rstrip"></a><16>rstrip</16></h3><p>åˆ é™¤ mystr å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºç™½å­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.rstrip()</span><br></pre></td></tr></table></figure><h3 id="strip"><a href="#strip" class="headerlink" title="strip"></a><17>strip</17></h3><p>åˆ é™¤mystrå­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªæ˜¯å»é™¤ä¸¤ç«¯å­—ç¬¦ä¸²,å¦‚æœ 'jian shu', ä¸­é—´å­˜åœ¨ç©ºæ ¼,åˆ™ä¸å»é™¤ä¸­é—´çš„</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="string">"\n\t jianshu \t\n"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.strip()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'jianshu'</span></span><br></pre></td></tr></table></figure><h3 id="rfind"><a href="#rfind" class="headerlink" title="rfind"></a><18>rfind</18></h3><p>ç±»ä¼¼äº find()å‡½æ•°ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.rfind(str, start=<span class="number">0</span>,end=len(mystr) )</span><br></pre></td></tr></table></figure><h3 id="rindex"><a href="#rindex" class="headerlink" title="rindex"></a><19>rindex</19></h3><p>ç±»ä¼¼äº index()ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.rindex( str, start=<span class="number">0</span>,end=len(mystr))</span><br></pre></td></tr></table></figure><h3 id="partition-åˆ†åŒº-åˆ†æˆ3æ®µ"><a href="#partition-åˆ†åŒº-åˆ†æˆ3æ®µ" class="headerlink" title="partition(åˆ†åŒº, åˆ†æˆ3æ®µ)"></a><20>partition(åˆ†åŒº, åˆ†æˆ3æ®µ)</20></h3><p>æŠŠmysträ»¥stråˆ†å‰²æˆä¸‰éƒ¨åˆ†,strå‰ï¼Œstr</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿”å›ä¸€ä¸ªå…ƒç¥–, å‚æ•°æ˜¯æŒ‰ç…§é‚£ä¸ªå­—ç¬¦ä¸²å»æ‹†åˆ†</span></span><br><span class="line">mystr.partition(str)</span><br></pre></td></tr></table></figure><h3 id="rpartition"><a href="#rpartition" class="headerlink" title="rpartition"></a><21>rpartition</21></h3><p>ç±»ä¼¼äº partition()å‡½æ•°,ä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»å³åˆ°å·¦,åˆ†ä¸‰æ®µ</span></span><br><span class="line">mystr.rpartition(str)</span><br></pre></td></tr></table></figure><h3 id="splitlines"><a href="#splitlines" class="headerlink" title="splitlines"></a><22>splitlines</22></h3><p>æŒ‰ç…§è¡Œåˆ†éš”ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å„è¡Œä½œä¸ºå…ƒç´ çš„åˆ—è¡¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ†å‰²çš„å­—ç¬¦ä¸²,æŒ‰ç…§\n  åˆ†å‰²</span></span><br><span class="line">mystr.splitlines()</span><br></pre></td></tr></table></figure><h3 id="isalpha"><a href="#isalpha" class="headerlink" title="isalpha"></a><23>isalpha</23></h3><p>å¦‚æœ mystr æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯ åˆ™è¿”å› True,å¦åˆ™è¿”å› False</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¿…é¡»ä¸ºå­˜å­—ç¬¦, ç©ºæ ¼éƒ½å±äºå…¶ä»–å­—ç¬¦,</span></span><br><span class="line">mystr.isalpha()</span><br></pre></td></tr></table></figure><h3 id="isdigit"><a href="#isdigit" class="headerlink" title="isdigit"></a><24>isdigit</24></h3><p>å¦‚æœ mystr åªåŒ…å«æ•°å­—åˆ™è¿”å› True å¦åˆ™è¿”å› False.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¿…é¡»ä¸ºçº¯æ•°å­—, ç©ºæ ¼éƒ½å±äºå…¶ä»–å­—ç¬¦,</span></span><br><span class="line">mystr.isdigit()</span><br></pre></td></tr></table></figure><h3 id="isalnum"><a href="#isalnum" class="headerlink" title="isalnum"></a><25>isalnum</25></h3><p>å¦‚æœ mystr æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–æ•°å­—åˆ™è¿”å› True,å¦åˆ™è¿”å› False</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.isalnum()</span><br></pre></td></tr></table></figure><h3 id="isspace"><a href="#isspace" class="headerlink" title="isspace"></a><26>isspace</26></h3><p>å¦‚æœ mystr ä¸­åªèƒ½åŒ…å«ç©ºæ ¼ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mystr.isspace()</span><br></pre></td></tr></table></figure><h3 id="join"><a href="#join" class="headerlink" title="join"></a><27>join</27></h3><p>mystr ä¸­æ¯ä¸ªå­—ç¬¦åé¢æ’å…¥str,æ„é€ å‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨æ³• : mystr.join(str)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>strs = [<span class="string">'my'</span>,<span class="string">'name'</span>,<span class="string">'is'</span>, <span class="string">'hai'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>strSpace = <span class="string">' '</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>strSpace.join(strs)</span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ˜¯è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'my name is hai'</span></span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜:"></a>é—®é¢˜:</h3><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²aStrï¼Œè¿”å›ä½¿ç”¨ç©ºæ ¼æˆ–è€…â€™\tâ€™åˆ†å‰²åçš„å€’æ•°ç¬¬äºŒä¸ªå­ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">testStr = <span class="string">'haha nihao a \t heihei \t woshi nide \t hao \nnnn'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å³å¯ä»¥å»é™¤ä»¥ä¸Šå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰è½¬ä¹‰å’Œç©ºæ ¼ç¬¦å·</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. å»é™¤\t \n ç©ºæ ¼</span></span><br><span class="line">strList = testStr.strip()</span><br><span class="line"><span class="comment"># 2. å¾—åˆ°æ–°çš„å­—ç¬¦ä¸²,æ‹¼æ¥èµ·æ¥</span></span><br><span class="line">newStr = <span class="string">''</span>.join(strList)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;string-å¸¸è§æ“ä½œ&quot;&gt;&lt;a href=&quot;#string-å¸¸è§æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;string å¸¸è§æ“ä½œ&quot;&gt;&lt;/a&gt;string å¸¸è§æ“ä½œ&lt;/h2&gt;&lt;p&gt;&lt;code&gt;&amp;#39;mystr = &amp;#39;hello nilhy , This is Python demo&amp;#39;&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;find&quot;&gt;&lt;a href=&quot;#find&quot; class=&quot;headerlink&quot; title=&quot;find&quot;&gt;&lt;/a&gt;&lt;1&gt;find&lt;/1&gt;&lt;/h3&gt;&lt;p&gt;æ£€æµ‹ &lt;code&gt;str&lt;/code&gt; æ˜¯å¦åŒ…å«åœ¨ &lt;code&gt;mystr&lt;/code&gt; ä¸­ï¼Œå¦‚æœæ˜¯è¿”å›å¼€å§‹çš„&lt;code&gt;ç´¢å¼•å€¼&lt;/code&gt;ï¼Œå¦åˆ™è¿”å› &lt;code&gt;-1&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# è®°ä½,è¿”å›çš„æ˜¯æ‰€åœ¨ä½ç½®ç´¢å¼•å€¼,æ²¡æ‰¾åˆ°å°±è¿”å›-1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mystr.find(str, start=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, end=len(mystr))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;index&quot;&gt;&lt;a href=&quot;#index&quot; class=&quot;headerlink&quot; title=&quot; index&quot;&gt;&lt;/a&gt;&lt;2&gt; index&lt;/2&gt;&lt;/h3&gt;&lt;p&gt;è·Ÿfind()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æœsträ¸åœ¨ mysträ¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸.&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# å¦‚æœæ²¡æœ‰æ‰¾åˆ°,ä¼šæŠ›å‡ºå¼‚å¸¸&#39;substring not found&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mystr.index(str, start=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, end=len(mystr))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Python" scheme="http://nilhy.cn/categories/Python/"/>
    
    
      <category term="Python" scheme="http://nilhy.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Objective-C-ä¸å®šå‚è¯¦è§£</title>
    <link href="http://nilhy.cn/2017/02/11/iOS/Objective-C/Objective-C-%E4%B8%8D%E5%AE%9A%E5%8F%82%E8%AF%A6%E8%A7%A3.html"/>
    <id>http://nilhy.cn/2017/02/11/iOS/Objective-C/Objective-C-ä¸å®šå‚è¯¦è§£.html</id>
    <published>2017-02-11T02:46:47.000Z</published>
    <updated>2019-04-19T13:40:53.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª-ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€"><a href="#ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª-ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€" class="headerlink" title="ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª,ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€"></a>ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª,ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€</h3><blockquote><p><code>å¤§è‡´å«ä¹‰</code> : ä¸€ä¸ªå¯å˜å‚æ•°å‡½æ•°æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°æ‹¥æœ‰ä¸å®šçš„å‚æ•°ï¼Œå³ä¸ºä¸€ä¸ªå‡½æ•°å¯æ¥æ”¶å¤šä¸ªå‚æ•°ã€‚æœ‰æ—¶ä¼šé‡åˆ°ä¸€äº›ç®—æœ¯é—®é¢˜éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚æ˜¯è®¡ç®—ä¼ å…¥å‚æ•°çš„æ€»å’Œï¼Œå­—ç¬¦ä¸²çš„è¿æ¥æˆ–æ˜¯å…¶å®ƒæ“ä½œè¿‡ç¨‹ï¼Œåœ¨ Objective-C é‡Œä¹Ÿç»å¸¸ä½¿ç”¨ï¼Œæœ€ç»å…¸çš„å°±æ˜¯ NSLogï¼ˆ C ä¸º printf ï¼‰ ï¼Œå®ƒå¯ä»¥æŒ‡å®šæ ¼å¼çš„è¾“å‡ºï¼Œæ ¼å¼åŒ–è¾“å‡ºçš„å†…å®¹.</p></blockquote><a id="more"></a><h5 id="å½“ç„¶-ä¸å®šå‚æ•°-ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä»£æ›¿ã€‚åºŸè¯ä¸å¤šè¯´-ç›´æ¥ä¸Šä»£ç å¼€å¹²äº†â€¦"><a href="#å½“ç„¶-ä¸å®šå‚æ•°-ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä»£æ›¿ã€‚åºŸè¯ä¸å¤šè¯´-ç›´æ¥ä¸Šä»£ç å¼€å¹²äº†â€¦" class="headerlink" title="å½“ç„¶,ä¸å®šå‚æ•°,ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä»£æ›¿ã€‚åºŸè¯ä¸å¤šè¯´,ç›´æ¥ä¸Šä»£ç å¼€å¹²äº†â€¦."></a>å½“ç„¶,ä¸å®šå‚æ•°,ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä»£æ›¿ã€‚åºŸè¯ä¸å¤šè¯´,ç›´æ¥ä¸Šä»£ç å¼€å¹²äº†â€¦.</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)print:(<span class="built_in">NSString</span> *)firstArg, ... <span class="built_in">NS_REQUIRES_NIL_TERMINATION</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(firstArg) &#123;</span><br><span class="line">        <span class="comment">// 1.å®šä¹‰ä¸€ä¸ªæŒ‡å‘ä¸ªæ•°å¯å˜çš„å‚æ•°åˆ—è¡¨æŒ‡é’ˆ</span></span><br><span class="line">        va_list args;</span><br><span class="line">        <span class="comment">// 2.ç”¨äºå­˜æ”¾å–å‡ºçš„å‚æ•°</span></span><br><span class="line">        <span class="built_in">NSString</span> *arg;</span><br><span class="line">        <span class="comment">// 3.åˆå§‹åŒ–å˜é‡åˆšå®šä¹‰çš„va_listå˜é‡ï¼Œè¿™ä¸ªå®çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç¬¬ä¸€ä¸ªå¯å˜å‚æ•°çš„å‰ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šçš„å‚æ•°</span></span><br><span class="line">        va_start(args, firstArg);</span><br><span class="line">        <span class="comment">// 4.éå†å…¨éƒ¨å‚æ•° va_argè¿”å›å¯å˜çš„å‚æ•°(a_argçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä½ è¦è¿”å›çš„å‚æ•°çš„ç±»å‹)</span></span><br><span class="line">        <span class="keyword">while</span> ((arg = va_arg(args, <span class="built_in">NSString</span> *))) &#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, arg);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¸…ç©ºå‚æ•°åˆ—è¡¨ï¼Œå¹¶ç½®å‚æ•°æŒ‡é’ˆargsæ— æ•ˆ</span></span><br><span class="line">        va_end(args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‹é¢å°±æ˜¯æ¥è§£é‡Šå„ä¸ªæ–¹æ³•å’Œå‚æ•°çš„å«ä¹‰"><a href="#ä¸‹é¢å°±æ˜¯æ¥è§£é‡Šå„ä¸ªæ–¹æ³•å’Œå‚æ•°çš„å«ä¹‰" class="headerlink" title="ä¸‹é¢å°±æ˜¯æ¥è§£é‡Šå„ä¸ªæ–¹æ³•å’Œå‚æ•°çš„å«ä¹‰"></a>ä¸‹é¢å°±æ˜¯æ¥è§£é‡Šå„ä¸ªæ–¹æ³•å’Œå‚æ•°çš„å«ä¹‰</h3><ul><li><code>va_list</code> : ç”¨æ¥ä¿å­˜å® <code>va_start</code> ã€<code>va_arg</code> å’Œ <code>va_end</code>æ‰€éœ€ä¿¡æ¯çš„ä¸€ç§ç±»å‹ã€‚ä¸ºäº†è®¿é—®å˜é•¿å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°ï¼Œå¿…é¡»å£°æ˜ <code>va_list</code> ç±»å‹çš„ä¸€ä¸ªå¯¹è±¡</li><li><code>va_start</code> : è®¿é—®å˜é•¿å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°ä¹‹å‰ä½¿ç”¨çš„å®ï¼Œå®ƒåˆå§‹åŒ–ç”¨va_listå£°æ˜çš„å¯¹è±¡ï¼Œåˆå§‹åŒ–ç»“æœä¾›å®<code>va_arg</code>å’Œ<code>va_end</code>ä½¿ç”¨</li><li><code>va_arg</code> : å±•å¼€æˆä¸€ä¸ªè¡¨è¾¾å¼çš„å®ï¼Œè¯¥è¡¨è¾¾å¼å…·æœ‰å˜é•¿å‚æ•°åˆ—è¡¨ä¸­ä¸‹ä¸€ä¸ªå‚æ•°çš„å€¼å’Œç±»å‹ã€‚æ¯æ¬¡è°ƒç”¨ <code>va_arg</code> éƒ½ä¼šä¿®æ”¹ï¼Œç”¨ <code>va_list</code> å£°æ˜çš„å¯¹è±¡ä»è€Œä½¿è¯¥å¯¹è±¡æŒ‡å‘å‚æ•°åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå‚æ•°</li><li><code>va_end</code> : è¯¥å®ä½¿ç¨‹åºèƒ½å¤Ÿä»å˜é•¿å‚æ•°åˆ—è¡¨ç”¨å® va_start å¼•ç”¨çš„å‡½æ•°ä¸­æ­£å¸¸è¿”å›</li><li><code>NS_REQUIRES_NIL_TERMINATION</code> : æ˜¯ä¸€ä¸ªå®ï¼Œç”¨äºç¼–è¯‘æ—¶énilç»“å°¾çš„æ£€æŸ¥</li></ul><h3 id="ä½¿ç”¨æ³¨æ„"><a href="#ä½¿ç”¨æ³¨æ„" class="headerlink" title="ä½¿ç”¨æ³¨æ„"></a>ä½¿ç”¨æ³¨æ„</h3><ul><li>åœ¨å¯å˜å‚æ•°é‡Œï¼Œæ‰€æœ‰å‚æ•°å‡ç”¨é€—å·éš”å¼€</li><li>å‚æ•°ç»“å°¾å¿…é¡»åŠ ä¸Šnilï¼Œè¡¨ç¤ºå‚æ•°ç»“æŸ</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª-ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€&quot;&gt;&lt;a href=&quot;#ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª-ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª,ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€&quot;&gt;&lt;/a&gt;ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª,ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;å¤§è‡´å«ä¹‰&lt;/code&gt; : ä¸€ä¸ªå¯å˜å‚æ•°å‡½æ•°æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°æ‹¥æœ‰ä¸å®šçš„å‚æ•°ï¼Œå³ä¸ºä¸€ä¸ªå‡½æ•°å¯æ¥æ”¶å¤šä¸ªå‚æ•°ã€‚æœ‰æ—¶ä¼šé‡åˆ°ä¸€äº›ç®—æœ¯é—®é¢˜éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚æ˜¯è®¡ç®—ä¼ å…¥å‚æ•°çš„æ€»å’Œï¼Œå­—ç¬¦ä¸²çš„è¿æ¥æˆ–æ˜¯å…¶å®ƒæ“ä½œè¿‡ç¨‹ï¼Œåœ¨ Objective-C é‡Œä¹Ÿç»å¸¸ä½¿ç”¨ï¼Œæœ€ç»å…¸çš„å°±æ˜¯ NSLogï¼ˆ C ä¸º printf ï¼‰ ï¼Œå®ƒå¯ä»¥æŒ‡å®šæ ¼å¼çš„è¾“å‡ºï¼Œæ ¼å¼åŒ–è¾“å‡ºçš„å†…å®¹.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://nilhy.cn/categories/iOS/"/>
    
    
      <category term="Objective-C" scheme="http://nilhy.cn/tags/Objective-C/"/>
    
  </entry>
  
  <entry>
    <title>Objective-C-äº‹ä»¶å¤„ç†ä¸å¦‚ä½•è·å¾—æœ€ä½³ç‚¹å‡»çš„View</title>
    <link href="http://nilhy.cn/2016/11/14/iOS/Objective-C/Objective-C-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E4%B8%8E%E5%A6%82%E4%BD%95%E8%8E%B7%E5%BE%97%E6%9C%80%E4%BD%B3%E7%82%B9%E5%87%BB%E7%9A%84View.html"/>
    <id>http://nilhy.cn/2016/11/14/iOS/Objective-C/Objective-C-äº‹ä»¶å¤„ç†ä¸å¦‚ä½•è·å¾—æœ€ä½³ç‚¹å‡»çš„View.html</id>
    <published>2016-11-14T08:46:47.000Z</published>
    <updated>2019-04-19T13:41:24.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’"><a href="#äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’" class="headerlink" title="äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’"></a>äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’</h3><h4 id="äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„"><a href="#äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„" class="headerlink" title="äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„?"></a>äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„?</h4><ul><li>å½“å‘ç”Ÿè§¦æ‘¸äº‹ä»¶çš„å,ç³»ç»Ÿä¼šå°†è¯¥äº‹ä»¶åŠ å…¥åˆ°ä¸€ä¸ªç”±UIApplicationç®¡ç†çš„æ—¶é—´é˜Ÿåˆ—<br>ä¸­,UIApplicationä¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„äº‹ä»¶,å¹¶å°†è¿™ä¸ªäº‹ä»¶åˆ†å‘ä¸‹å»,ä»¥ä¾¿å¤„ç†,ä¸»<br>çª—å£å³Window ä¼šåœ¨è§†å›¾å±‚æ¬¡ä¸­æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„è§†å›¾æ¥å¤„ç†è§¦æ‘¸äº‹ä»¶</li><li>è§¦æ‘¸äº‹ä»¶çš„ä¼ é€’æ˜¯ä»çˆ¶æ§ä»¶ä¼ é€’ç»™å­æ§ä»¶çš„,å¦‚æœçˆ¶æ§ä»¶ä¸èƒ½æ¥å—äº‹ä»¶,åˆ™é‡Œé¢çš„æ‰€æœ‰å­æ§ä»¶ä¹Ÿä¸èƒ½æ¥æ”¶äº‹ä»¶</li></ul><a id="more"></a><h4 id="å½“ä¸€ä¸ªæ§ä»¶ä¸èƒ½æ¥å—äº‹ä»¶æ—¶-ä¸€èˆ¬æœ‰å‡ ç§æƒ…å†µ"><a href="#å½“ä¸€ä¸ªæ§ä»¶ä¸èƒ½æ¥å—äº‹ä»¶æ—¶-ä¸€èˆ¬æœ‰å‡ ç§æƒ…å†µ" class="headerlink" title="å½“ä¸€ä¸ªæ§ä»¶ä¸èƒ½æ¥å—äº‹ä»¶æ—¶,ä¸€èˆ¬æœ‰å‡ ç§æƒ…å†µ"></a>å½“ä¸€ä¸ªæ§ä»¶ä¸èƒ½æ¥å—äº‹ä»¶æ—¶,ä¸€èˆ¬æœ‰å‡ ç§æƒ…å†µ</h4><ul><li>ä¸æ¥æ”¶ç”¨æˆ·äº¤äº’:<code>userInteractionEnabled = NO</code></li><li>å½“ä¸€ä¸ªæ§ä»¶éšè—æ—¶:<code>Hidden = YES</code></li><li>å½“ä¸€ä¸ªæ§ä»¶ä¸ºé€æ˜æ—¶</li></ul><h3 id="äº‹ä»¶çš„å“åº”"><a href="#äº‹ä»¶çš„å“åº”" class="headerlink" title="äº‹ä»¶çš„å“åº”"></a>äº‹ä»¶çš„å“åº”</h3><blockquote><p>ç”¨æˆ·ç‚¹å‡»å±å¹•äº§ç”Ÿçš„ä¸€ä¸ªè§¦æ‘¸äº‹ä»¶,ç»è¿‡ä¸€ç³»åˆ—çš„ä¼ é€’è¿‡ç¨‹å,ä¼šæ‰¾åˆ°ä¸€ä¸ªæœ€é€‚åˆçš„è§†å›¾æ¥å¤„ç†äº‹ä»¶.æ‰¾åˆ°æœ€åˆé€‚çš„è§†å›¾æ§ä»¶å,å°±ä¼šè°ƒç”¨æ§ä»¶çš„<code>touches</code>æ–¹æ³•æ¥ä½œå…·ä½“çš„äº‹ä»¶å¤„ç†.<code>touches</code>çš„é»˜è®¤åšæ³•æ˜¯å°†äº‹ä»¶é¡ºç€å“åº”è€…é“¾æ¡å‘ä¸Šä¼ é€’,å°†äº‹ä»¶äº¤ç»™ä¸Šä¸€ä¸ªå“åº”è€…å¤„ç†</p></blockquote><ul><li>ä»€ä¹ˆæ˜¯å“åº”è€…é“¾æ¡?<ul><li>ç”±å¤šä¸ªå“åº”è€…å¯¹è±¡è¿æ¥èµ·æ¥çš„é“¾æ¡</li></ul></li><li>ä»€ä¹ˆæ˜¯å“åº”è€…å¯¹è±¡?<ul><li>ç»§æ‰¿äº†<code>UIResponder</code>çš„å¯¹è±¡</li></ul></li><li><p>å¦‚ä½•å»å¯»æ‰¾ä¸Šä¸€ä¸ªå“åº”è€…</p><ul><li>1.å¦‚æœå½“å‰çš„Viewæ˜¯æ§åˆ¶å™¨çš„View,é‚£ä¹ˆæ§åˆ¶å™¨å°±æ˜¯ä¸Šä¸€ä¸ªå“åº”è€…</li><li>2.å¦‚æœå½“å‰çš„Viewä¸æ˜¯æ§åˆ¶å™¨çš„View,é‚£ä¹ˆä»–çš„çˆ¶æ§ä»¶å°±æ˜¯ä¸Šä¸€ä¸ªå“åº”è€…</li><li>3.åœ¨è§†å›¾å±‚æ¬¡ç»“æ„çš„æœ€é¡¶çº§è§†å›¾,å¦‚æœä¹Ÿä¸èƒ½å¤„ç†æ”¶åˆ°çš„äº‹ä»¶æˆ–æ¶ˆæ¯,åˆ™å…¶å°†äº‹ä»¶æˆ–æ¶ˆæ¯ä¼ <br>é€’ç»™windowå¯¹è±¡è¿›è¡Œå¤„ç†</li><li>4.å¦‚æœwindowå¯¹è±¡ä¹Ÿä¸å¤„ç†ï¼Œåˆ™å…¶å°†äº‹ä»¶æˆ–æ¶ˆæ¯ä¼ é€’ç»™UIApplicationå¯¹è±¡</li><li>5.å¦‚æœUIApplicationä¹Ÿä¸èƒ½å¤„ç†è¯¥äº‹ä»¶æˆ–æ¶ˆæ¯ï¼Œåˆ™å°†å…¶ä¸¢å¼ƒ</li></ul></li><li><p>ç³»ç»Ÿæ˜¯å¦‚ä½•å¯»æ‰¾æœ€åˆé€‚çš„View* </p><ul><li>1.å…ˆåˆ¤æ–­è‡ªå·±æ˜¯å¦èƒ½æ¥æ”¶è§¦æ‘¸äº‹ä»¶</li><li>2.å†åˆ¤æ–­è§¦æ‘¸çš„å½“å‰ç‚¹åœ¨ä¸åœ¨è‡ªå·±èº«ä¸Š</li><li>3.å¦‚æœåœ¨è‡ªå·±èº«ä¸Š,å®ƒä¼šä»åå¾€å‰éå†å­æ§ä»¶,éå†å‡ºæ¯ä¸€ä¸ªæ§ä»¶å,é‡å¯å‰ä¸¤æ­¥</li><li>4.å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­æ§ä»¶,é‚£ä¹ˆè‡ªèº«å°±æ˜¯æœ€åˆé€‚çš„View</li></ul></li></ul><h3 id="åœ¨å¯»æ‰¾æœ€åˆé€‚Viewçš„è¿‡ç¨‹ä¸­-ç³»ç»Ÿä¼šè°ƒç”¨2ä¸ªæ–¹æ³•"><a href="#åœ¨å¯»æ‰¾æœ€åˆé€‚Viewçš„è¿‡ç¨‹ä¸­-ç³»ç»Ÿä¼šè°ƒç”¨2ä¸ªæ–¹æ³•" class="headerlink" title="åœ¨å¯»æ‰¾æœ€åˆé€‚Viewçš„è¿‡ç¨‹ä¸­,ç³»ç»Ÿä¼šè°ƒç”¨2ä¸ªæ–¹æ³•"></a>åœ¨å¯»æ‰¾æœ€åˆé€‚Viewçš„è¿‡ç¨‹ä¸­,ç³»ç»Ÿä¼šè°ƒç”¨2ä¸ªæ–¹æ³•</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½œç”¨:å¯»æ‰¾æœ€é€‚åˆçš„View</span></span><br><span class="line"><span class="comment">// ä»€ä¹ˆæ—¶å€™è°ƒç”¨:å½“äº‹ä»¶ä¼ é€’ç»™å½“å‰Viewæ—¶å°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">UIView</span> *) hitTest:(<span class="built_in">CGPoint</span>)point withEvent:(<span class="built_in">UIEvent</span> *)event &#123;</span><br><span class="line">    <span class="built_in">UIView</span> *fitView = [<span class="keyword">super</span> hitTest:point withEvent:event];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,fitView);</span><br><span class="line">    <span class="keyword">return</span> fitView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½œç”¨:åˆ¤æ–­è§¦æ‘¸ç‚¹åœ¨ä¸åœ¨å½“å‰çš„Viewä¸Š.</span></span><br><span class="line"><span class="comment">// ä»€ä¹ˆæ—¶å€™è°ƒç”¨:åœ¨hitTestæ–¹æ³•å½“ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•.</span></span><br><span class="line"><span class="comment">// æ³¨æ„:pointå¿…é¡»å¾—è¦è·Ÿå½“å‰ViewåŒä¸€ä¸ªåæ ‡ç³».</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>) pointInside:(<span class="built_in">CGPoint</span>)point withEvent:(<span class="built_in">UIEvent</span> *)event &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é‚£ä¹ˆhitTest-withEvent-æ–¹æ³•åº•å±‚æ˜¯å¦‚ä½•å®ç°çš„å‘¢"><a href="#é‚£ä¹ˆhitTest-withEvent-æ–¹æ³•åº•å±‚æ˜¯å¦‚ä½•å®ç°çš„å‘¢" class="headerlink" title="é‚£ä¹ˆhitTest: withEvent:æ–¹æ³•åº•å±‚æ˜¯å¦‚ä½•å®ç°çš„å‘¢?"></a>é‚£ä¹ˆhitTest: withEvent:æ–¹æ³•åº•å±‚æ˜¯å¦‚ä½•å®ç°çš„å‘¢?</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­è‡ªå·±èƒ½å¦æ¥æ”¶äº‹ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.userInteractionEnabled == <span class="literal">NO</span> || <span class="keyword">self</span>.hidden == <span class="literal">YES</span> || <span class="keyword">self</span>.alpha &lt;= <span class="number">0.01</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§¦æ‘¸ç‚¹åœ¨ä¸åœ¨è‡ªå·±èº«ä¸Š</span></span><br><span class="line"><span class="keyword">if</span> ([<span class="keyword">self</span> pointInside:point withEvent:event] == <span class="literal">NO</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä»åå¾€å‰éå†è‡ªå·±çš„å­æ§ä»¶(é‡å¤å‰é¢çš„ä¸¤ä¸ªæ­¥éª¤)</span></span><br><span class="line"><span class="keyword">int</span> count = (<span class="keyword">int</span>)<span class="keyword">self</span>.subviews.count;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = count <span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="built_in">UIView</span> *childV = <span class="keyword">self</span>.subviews[i];</span><br><span class="line">    <span class="comment">// pointå¿…é¡»å¾—è¦è·ŸchildVç›¸åŒçš„åæ ‡ç³».</span></span><br><span class="line">    <span class="comment">// æŠŠpointè½¬æ¢childVåæ ‡ç³»ä¸Šé¢çš„ç‚¹</span></span><br><span class="line">    <span class="built_in">CGPoint</span> childP = [<span class="keyword">self</span> convertPoint:point toView:childV];</span><br><span class="line">    <span class="built_in">UIView</span> *fitView = [childV hitTest:childP withEvent:event];</span><br><span class="line">    <span class="keyword">if</span> (fitView) &#123;</span><br><span class="line">        <span class="keyword">return</span> fitView;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­æ§ä»¶ï¼Œé‚£ä¹ˆå°±è‡ªå·±æœ€é€‚åˆå¤„ç†</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">self</span>;</span><br></pre></td></tr></table></figure><h3 id="åœ¨å¼€å‘ä¸­æˆ–å¤šæˆ–å°‘ä¼šéœ€è¦ä¸€äº›ç‰¹æ®Šçš„ç‚¹å‡»-è¿™é‡Œæœ‰2ä¸ªå°ä¾‹å­ä¾›å¤§å®¶å‚è€ƒ"><a href="#åœ¨å¼€å‘ä¸­æˆ–å¤šæˆ–å°‘ä¼šéœ€è¦ä¸€äº›ç‰¹æ®Šçš„ç‚¹å‡»-è¿™é‡Œæœ‰2ä¸ªå°ä¾‹å­ä¾›å¤§å®¶å‚è€ƒ" class="headerlink" title="åœ¨å¼€å‘ä¸­æˆ–å¤šæˆ–å°‘ä¼šéœ€è¦ä¸€äº›ç‰¹æ®Šçš„ç‚¹å‡»,è¿™é‡Œæœ‰2ä¸ªå°ä¾‹å­ä¾›å¤§å®¶å‚è€ƒ"></a>åœ¨å¼€å‘ä¸­æˆ–å¤šæˆ–å°‘ä¼šéœ€è¦ä¸€äº›ç‰¹æ®Šçš„ç‚¹å‡»,è¿™é‡Œæœ‰2ä¸ªå°ä¾‹å­ä¾›å¤§å®¶å‚è€ƒ</h3><ul><li>ä¸€ä¸ªæŒ‰é’®è¢«ä¸€ä¸ªåŠé€æ˜çš„Viewéƒ¨åˆ†é®æŒ¡,éœ€è¦ç‚¹å‡»åˆ°æŒ‰é’®çš„æ—¶å€™,æŒ‰é’®å§‹ç»ˆå“åº”</li><li>ä¸€ä¸ªViewè¶…å‡ºäº†çˆ¶è§†å›¾çš„èŒƒå›´,éœ€è¦ç‚¹å‡»è¶…å‡ºèŒƒå›´çš„Viewä¹Ÿæœ‰å“åº”</li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (<span class="built_in">UIView</span> *)hitTest:(<span class="built_in">CGPoint</span>)point withEvent:(<span class="built_in">UIEvent</span> *)event &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å½“è§¦æ‘¸ç‚¹åœ¨æŒ‰é’®ä¸Šçš„æ—¶å€™,æ‰è®©æŒ‰é’®å»å“åº”äº‹ä»¶.</span></span><br><span class="line">    <span class="comment">//æŠŠå½“å‰ç‚¹è½¬æ¢æˆæŒ‰é’®åæ ‡ç³»ä¸Šçš„ç‚¹.</span></span><br><span class="line">    <span class="built_in">CGPoint</span> btnP =  [<span class="keyword">self</span> convertPoint:point toView:<span class="keyword">self</span>.btn];</span><br><span class="line">    <span class="keyword">if</span> ( [<span class="keyword">self</span>.btn pointInside:btnP withEvent:event]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.btn;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="keyword">super</span> hitTest:point withEvent:event];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’&quot;&gt;&lt;a href=&quot;#äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’&quot; class=&quot;headerlink&quot; title=&quot;äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’&quot;&gt;&lt;/a&gt;äº‹ä»¶çš„äº§ç”Ÿä¸ä¼ é€’&lt;/h3&gt;&lt;h4 id=&quot;äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„&quot;&gt;&lt;a href=&quot;#äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„&quot; class=&quot;headerlink&quot; title=&quot;äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„?&quot;&gt;&lt;/a&gt;äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸ä¼ é€’çš„?&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å½“å‘ç”Ÿè§¦æ‘¸äº‹ä»¶çš„å,ç³»ç»Ÿä¼šå°†è¯¥äº‹ä»¶åŠ å…¥åˆ°ä¸€ä¸ªç”±UIApplicationç®¡ç†çš„æ—¶é—´é˜Ÿåˆ—&lt;br&gt;ä¸­,UIApplicationä¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„äº‹ä»¶,å¹¶å°†è¿™ä¸ªäº‹ä»¶åˆ†å‘ä¸‹å»,ä»¥ä¾¿å¤„ç†,ä¸»&lt;br&gt;çª—å£å³Window ä¼šåœ¨è§†å›¾å±‚æ¬¡ä¸­æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„è§†å›¾æ¥å¤„ç†è§¦æ‘¸äº‹ä»¶&lt;/li&gt;
&lt;li&gt;è§¦æ‘¸äº‹ä»¶çš„ä¼ é€’æ˜¯ä»çˆ¶æ§ä»¶ä¼ é€’ç»™å­æ§ä»¶çš„,å¦‚æœçˆ¶æ§ä»¶ä¸èƒ½æ¥å—äº‹ä»¶,åˆ™é‡Œé¢çš„æ‰€æœ‰å­æ§ä»¶ä¹Ÿä¸èƒ½æ¥æ”¶äº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://nilhy.cn/categories/iOS/"/>
    
    
      <category term="Objective-C" scheme="http://nilhy.cn/tags/Objective-C/"/>
    
  </entry>
  
</feed>
