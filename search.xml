<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[mac ä¸Šé…ç½® aria2 åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³•]]></title>
    <url>%2F2019%2F04%2F18%2Faria2.html</url>
    <content type="text"><![CDATA[mac ä¸Šé…ç½® aria2 åŠ å¿«ä¸‹è½½é€Ÿåº¦çš„æ–¹æ³• ä½œä¸ºmac ç”¨æˆ·,å—å¤Ÿäº†å„ç§ä¸‹è½½é™é€Ÿï¼Œæµè§ˆå™¨è‡ªå¸¦çš„ä¸‹è½½å™¨æžä¸ºè›‹ç–¼ï¼Œä¸å¦‚èŠ±ç‚¹æ—¶é—´æ¥é…ç½® aria2ï¼Œç»“åˆ Chrome æ’ä»¶é…ç½®ä¹‹åŽ,çœŸé¦™! aria2 æ˜¯ä»€ä¹ˆï¼Ÿaria2 æ˜¯ä¸€æ¬¾æ”¯æŒå¤šç§åè®®çš„è½»é‡çº§å‘½ä»¤è¡Œä¸‹è½½å·¥å…·ã€‚æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š å¤šçº¿ç¨‹è¿žçº¿ï¼šaria2 ä¼šè‡ªåŠ¨ä»Žå¤šä¸ªçº¿ç¨‹ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶å……åˆ†åˆ©ç”¨ä½ çš„å¸¦å®½ã€‚ è½»é‡ï¼šè¿è¡Œæ—¶ä¸ä¼šå ç”¨è¿‡å¤šèµ„æºï¼Œæ ¹æ®å®˜æ–¹ä»‹ç»ï¼Œå†…å­˜å ç”¨é€šå¸¸åœ¨ 4MB~9MB ï¼Œä½¿ç”¨ BitTorrent åè®®ï¼Œä¸‹è¡Œé€Ÿåº¦ 2.8MB/s æ—¶ CPU å ç”¨çŽ‡çº¦ 6% ã€‚ å…¨åŠŸèƒ½ BitTorrent å®¢æˆ·ç«¯ã€‚ æ”¯æŒ RPC ç•Œé¢è¿œç¨‹æŽ§åˆ¶ã€‚ å®‰è£… Homebrewç”±äºŽæ˜¯ä½¿ç”¨ Homebrew æ–¹å¼å®‰è£…ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£… Homebrew ï¼Œå·²ç»è£…è¿‡äº†å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ï¼Œç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ã€‚ 1ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" å®‰è£… aria2åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ã€‚1brew install aria2 è®¾ç½®é…ç½®æ–‡ä»¶aria2 æä¾›ä¸¤ç§æ–¹å¼ä½¿ç”¨ï¼Œä¸€ç§æ˜¯ç›´æŽ¥å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è½½ï¼Œä¸æŽ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼ŒæŽ¨èä½¿ç”¨å¦å¤–ä¸€ç§ RPC æ¨¡å¼ï¼Œè¿™ç§æ–¹å¼ aria2 å¯åŠ¨ä¹‹åŽåªä¼šå®‰é™çš„ç­‰å¾…ä¸‹è½½è¯·æ±‚ï¼Œä¸‹è½½å®ŒæˆåŽä¹Ÿåªä¼šå®‰é™çš„é©»ç•™åŽå°ä¸ä¼šè‡ªåŠ¨é€€å‡ºã€‚è€Œä½¿ç”¨ RPC æ¨¡å¼æŽ¨èåšä¸€ä¸ªé…ç½®æ–‡ä»¶æ–¹ä¾¿ä½¿ç”¨ã€‚ æˆ‘ä»¬æŠŠé…ç½®æ–‡ä»¶æ”¾åœ¨ ~/.aria2 ä¸‹ï¼Œç»ˆç«¯ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 1234cd ~mkdir .aria2cd .aria2touch aria2.conf æŽ¥ç€æ‰“å¼€ Finderï¼Œåˆ©ç”¨ shift + command + G è¿›å…¥è·¯å¾„ï¼š~/.aria2/aria2.confï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ aria2.confï¼Œå°† é›ªæœˆç§‹æ°´å› æä¾›çš„ä»¥ä¸‹é…ç½®ç›´æŽ¥æ‹·è´è¿›åŽ»ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#ç”¨æˆ·å#rpc-user=user#å¯†ç #rpc-passwd=passwd#ä¸Šé¢çš„è®¤è¯æ–¹å¼ä¸å»ºè®®ä½¿ç”¨,å»ºè®®ä½¿ç”¨ä¸‹é¢çš„tokenæ–¹å¼#è®¾ç½®åŠ å¯†çš„å¯†é’¥#rpc-secret=token#å…è®¸rpcenable-rpc=true#å…è®¸æ‰€æœ‰æ¥æº, webç•Œé¢è·¨åŸŸæƒé™éœ€è¦rpc-allow-origin-all=true#å…è®¸å¤–éƒ¨è®¿é—®ï¼Œfalseçš„è¯åªç›‘å¬æœ¬åœ°ç«¯å£rpc-listen-all=true#RPCç«¯å£, ä»…å½“é»˜è®¤ç«¯å£è¢«å ç”¨æ—¶ä¿®æ”¹#rpc-listen-port=6800#æœ€å¤§åŒæ—¶ä¸‹è½½æ•°(ä»»åŠ¡æ•°), è·¯ç”±å»ºè®®å€¼: 3max-concurrent-downloads=5#æ–­ç‚¹ç»­ä¼ continue=true#åŒæœåŠ¡å™¨è¿žæŽ¥æ•°max-connection-per-server=5#æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, ä¸‹è½½çº¿ç¨‹æ•°ä¸Šé™å–å†³äºŽèƒ½åˆ†å‡ºå¤šå°‘ç‰‡, å¯¹äºŽå°æ–‡ä»¶é‡è¦min-split-size=10M#å•æ–‡ä»¶æœ€å¤§çº¿ç¨‹æ•°, è·¯ç”±å»ºè®®å€¼: 5split=10#ä¸‹è½½é€Ÿåº¦é™åˆ¶max-overall-download-limit=0#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶max-download-limit=0#ä¸Šä¼ é€Ÿåº¦é™åˆ¶max-overall-upload-limit=0#å•æ–‡ä»¶é€Ÿåº¦é™åˆ¶max-upload-limit=0#æ–­å¼€é€Ÿåº¦è¿‡æ…¢çš„è¿žæŽ¥#lowest-speed-limit=0#éªŒè¯ç”¨ï¼Œéœ€è¦1.16.1ä¹‹åŽçš„releaseç‰ˆæœ¬#referer=*#æ–‡ä»¶ä¿å­˜è·¯å¾„, é»˜è®¤ä¸ºå½“å‰å¯åŠ¨ä½ç½®dir=/Users/xxx/Downloads#æ–‡ä»¶ç¼“å­˜, ä½¿ç”¨å†…ç½®çš„æ–‡ä»¶ç¼“å­˜, å¦‚æžœä½ ä¸ç›¸ä¿¡Linuxå†…æ ¸æ–‡ä»¶ç¼“å­˜å’Œç£ç›˜å†…ç½®ç¼“å­˜æ—¶ä½¿ç”¨, éœ€è¦1.16åŠä»¥ä¸Šç‰ˆæœ¬#disk-cache=0#å¦ä¸€ç§Linuxæ–‡ä»¶ç¼“å­˜æ–¹å¼, ä½¿ç”¨å‰ç¡®ä¿æ‚¨ä½¿ç”¨çš„å†…æ ¸æ”¯æŒæ­¤é€‰é¡¹, éœ€è¦1.15åŠä»¥ä¸Šç‰ˆæœ¬(?)#enable-mmap=true#æ–‡ä»¶é¢„åˆ†é…, èƒ½æœ‰æ•ˆé™ä½Žæ–‡ä»¶ç¢Žç‰‡, æé«˜ç£ç›˜æ€§èƒ½. ç¼ºç‚¹æ˜¯é¢„åˆ†é…æ—¶é—´è¾ƒé•¿#æ‰€éœ€æ—¶é—´ none &lt; falloc ? trunc Â« prealloc, fallocå’Œtruncéœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå†…æ ¸æ”¯æŒfile-allocation=prealloc é»˜è®¤ä¸‹è½½è·¯å¾„çš„ /Users/xxx/Downloads å¯ä»¥æ”¹ä¸ºä»»ä½•ä½ æƒ³è¦çš„ç»å¯¹è·¯å¾„ã€‚æ­¤å¤„å†™ä¸º Downloads ç›®å½•ï¼Œxxx è¯·è‡ªè¡Œæ›¿æ¢æˆä½ çš„ mac ç”¨æˆ·åï¼Œç„¶åŽä¿å­˜ï¼Œé€€å‡ºç¼–è¾‘å™¨ã€‚ å¯åŠ¨ RPC æ¨¡å¼åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ RPC æ¨¡å¼ï¼Œå°† xxx æ›¿æ¢æˆä½ çš„ mac ç”¨æˆ·åã€‚ 1aria2c --conf-path=&quot;/Users/xxx/.aria2/aria2.conf&quot; -D å¼€å§‹ä½¿ç”¨ä¸‹è½½ chrome æµè§ˆå™¨ä¸‹è½½æ’ä»¶ï¼šCamtd - Aria2ä¸‹è½½ç®¡ç†å™¨, ä¸‹è½½å®ŒæˆåŽå³é”®ä¸‹è½½é“¾æŽ¥ç‚¹å‡» Send to Aria2 å³å¯ä¸‹è½½ï¼Œä¹Ÿæ”¯æŒæ‹¦æˆªä¸‹è½½ã€‚ è¿™ä¸ªæ’ä»¶ä¸æ»¡æ„çš„è¯ï¼Œä¹Ÿå¯ä»¥æœç´¢å…¶ä»–ç±»ä¼¼æ’ä»¶ï¼Œä½†å¿…é¡»å¯åŠ¨ RPC æ¨¡å¼æ‰èƒ½å¤Ÿä½¿ç”¨æ­¤ç±»æ’ä»¶ã€‚ æ–‡ç« å‚è€ƒ Mac ä¸Šä½¿ç”¨ç™¾åº¦ç½‘ç›˜å¾ˆçƒ¦èºï¼ŸèŠ±ç‚¹æ—¶é—´é…ç½® aria2 å§ ã€‚]]></content>
      <categories>
        <category>Mac</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Moya&Alamofire&RxSwift&ObjectMapperçš„é…åˆä½¿ç”¨]]></title>
    <url>%2F2018%2F04%2F13%2FiOS%2FSwift%2FSwift-Moya%26Alamofire%26RxSwift%26ObjectMapper%E7%9A%84%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8.html</url>
    <content type="text"><![CDATA[Moya&amp;Alamofire&amp;RxSwift&amp;ObjectMapperçš„é…åˆä½¿ç”¨ä¸»è¦æ˜¯å­¦ä¹ Moyaçš„ç†Ÿç»ƒä½¿ç”¨ï¼Œå…¨æ–‡æ¶‰åŠåˆ°CYLTabBarControlleræ­å»ºç®€å•æ˜“ç”¨çš„æ¡†æž¶ã€Swiftå’ŒOCäº’ç›¸è°ƒç”¨ã€FLEXæ˜¾ç¤ºç•Œé¢å±‚çº§UIçš„å±žæ€§ã€ObjectMapperè§£æžæ•°æ®ã€KingfisheråŠ è½½ç½‘ç»œå›¾ç‰‡ã€MBProgressHUDèžåˆåˆ°è¯·æ±‚é‡Œè‡ªåŠ¨æ˜¾ç¤ºä¸Žéšè—è¯·æ±‚ç­‰å¾…ã€MJRefreshä½œä¸ºåˆ·æ–°ç®€å•å†™äº†ä¸€ä¸ªç±»åˆ«ã€SDCycleScrollViewæ˜¾ç¤ºè½®æ’­å›¾ã€Thençš„ä½¿ç”¨,æœ€ç»ˆå®žçŽ°äº†ä¸€ä¸ªç®€å•çš„ç•Œé¢.. æ—¢ç„¶æ˜¯ä»‹ç»Moyaçš„å°±ä¸»è¦å…ˆæ¥ä»‹ç»å®ƒå§ï¼ŒMoyaæ˜¯å¯¹ Alamofireçš„è¿›ä¸€æ­¥å°è£…,ç®€åŒ–äº†ç½‘ç»œè¯·æ±‚,æ–¹ä¾¿ç»´æŠ¤ ç‚¹å‡»æŸ¥çœ‹å®˜æ–¹æ•™ç¨‹ Moyaå‘é€ç®€å•çš„ç½‘ç»œè¯·æ±‚###æžšä¸¾ç±»åž‹éœ€æ»¡è¶³TargetTypeåè®® 1234567public protocol TargetType &#123; var baseURL: NSURL &#123; get &#125; var path: String &#123; get &#125; var method: Moya.Method &#123; get &#125; var parameters: [String: AnyObject]? &#123; get &#125; var sampleData: NSData &#123; get &#125;&#125; å®žçŽ°ä¸€ä¸ªæžšä¸¾ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144import Foundationimport Moyaenum ApiManager &#123; case getDantangList(String) case getNewsList case getMoreNews(String) case getThemeList case getThemeDesc(Int) case getNewsDesc(Int) case Create(title: String, body: String, userId: Int) case Login(phone:String,password:String) case Banner(String)&#125;extension ApiManager: TargetType &#123; /// The target's base `URL`. var baseURL: URL &#123; switch self &#123; case .Create(_,_,_): return URL.init(string: "http://jsonplaceholder.typicode.com/")! case .getDantangList,.Banner: return URL.init(string: "http://api.dantangapp.com/")! case .Login: return URL.init(string: "https://api.grtstar.cn")! default: return URL.init(string: "http://news-at.zhihu.com/api/")! &#125;&#125;/// The path to be appended to `baseURL` to form the full `URL`. var path: String &#123; switch self &#123; case .getDantangList(let page): return "v1/channels/\(page)/items" case .getNewsList: return "4/news/latest" case .getMoreNews(let date): return "4/news/before/" + date case .getThemeList: return "4/themes" case .getThemeDesc(let id): return "4/theme/\(id)" case .getNewsDesc(let id): return "4/news/\(id)" case .Create(_, _, _): return "posts" case .Login: return "/rest/user/certificate" case .Banner: return "v1/banners" &#125; /// The HTTP method used in the request. var method: Moya.Method &#123; switch self &#123; case .Create(_, _, _): return .post case .Login: return .post default: return .get &#125; &#125; /// The parameters to be incoded in the request. var parameters: [String: Any]? &#123; switch self &#123; case .Create(let title, let body, let userId): return ["title": title, "body": body, "userId": userId] case .Login(let number, let passwords): return ["mobile" : number, "password" : passwords,"deviceId": "12121312323"] case .Banner(let strin): return ["channel" :strin] default: return nil &#125; &#125; /// The method used for parameter encoding. var parameterEncoding: ParameterEncoding &#123; return URLEncoding.default &#125; /// Provides stub data for use in testing. var sampleData: Data &#123; switch self &#123; case .Create(_, _, _): return "Create post successfully".data(using: String.Encoding.utf8)! default: return "".data(using: String.Encoding.utf8)! &#125; &#125; var task: Task &#123; return .request &#125; /// Whether or not to perform Alamofire validation. Defaults to `false`. var validate: Bool &#123; return false &#125; &#125; `&lt;/pre&gt; #### çŽ°åœ¨å°±å¯ä»¥å‘é€ç®€å•çš„ç½‘ç»œè¯·æ±‚äº†: 1.å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡MoyaProvider &lt;pre&gt;`let ApiManagerProvider = MoyaProvider&amp;lt;ApiManager&amp;gt; `&lt;/pre&gt; 2.å‘é€ç½‘ç»œè¯·æ±‚ &lt;pre&gt;`ApiManagerProvider.request(.getNewsList) &#123; (result) -&amp;gt; () in case let .success(response): break case let .failure(error): break &#125; `&lt;/pre&gt; #### MoyaProviderçš„åˆå§‹åŒ– æˆ‘ä»¬è§‚å¯Ÿä¸‹MoyaProviderçš„åˆå§‹åŒ–æ–¹æ³•. MoyaProvideråˆå§‹åŒ–éƒ½æ˜¯æœ‰é»˜è®¤å€¼çš„ &lt;pre&gt;`public init(endpointClosure: @escaping EndpointClosure = MoyaProvider.defaultEndpointMapping, requestClosure: @escaping RequestClosure = MoyaProvider.defaultRequestMapping, stubClosure: @escaping StubClosure = MoyaProvider.neverStub, manager: Manager = MoyaProvider&amp;lt;Target&amp;gt;.defaultAlamofireManager(), plugins: [PluginType] = [], trackInflights: Bool = false) `&lt;/pre&gt; è¿™äº›å¯é€‰å‚æ•°å°±æ˜¯Moyaçš„å¼ºå¤§ä¹‹å¤„äº† ï¼Œæ–‡ç« ä¸»è¦ä¹Ÿæ˜¯ä»‹ç»å¦‚ä½•ä½¿ç”¨è¿™äº›æ’ä»¶çš„ã€‚ #### å‚æ•°è¯´æ˜Žï¼š EndpointClosureå¯ä»¥å¯¹è¯·æ±‚å‚æ•°åšè¿›ä¸€æ­¥çš„ä¿®æ”¹,å¦‚å¯ä»¥ä¿®æ”¹endpointByAddingParameters endpointByAddingHTTPHeaderFieldsç­‰ RequestClosure ä½ å¯ä»¥åœ¨å‘é€è¯·æ±‚å‰ï¼Œåšç‚¹æ‰‹è„š. å¦‚ä¿®æ”¹è¶…æ—¶æ—¶é—´ï¼Œæ‰“å°ä¸€äº›æ•°æ®ç­‰ç­‰ StubClosureå¯ä»¥è®¾ç½®è¯·æ±‚çš„å»¶è¿Ÿæ—¶é—´,å¯ä»¥å½“åšæ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ Manager è¯·æ±‚ç½‘ç»œè¯·æ±‚çš„æ–¹å¼ã€‚é»˜è®¤æ˜¯Alamofire [PluginType]ä¸€äº›æ’ä»¶ã€‚å›žè°ƒçš„ä½ç½®åœ¨å‘é€è¯·æ±‚åŽï¼ŒæŽ¥å—æœåŠ¡å™¨è¿”å›žä¹‹å‰ ç¨åŽè¯¦ç»†ä»‹ç»è¿™éƒ¨åˆ†å†…å®¹ã€‚ RxSwiftMoyaä¹Ÿæœ‰è‡ªå·±çš„RxSwiftçš„æ‰©å±•ï¼Œä¸æ‡‚RxSwiftçš„ç«¥éž‹å¯ä»¥çœ‹ä¸‹æˆ‘ä»¬åšå®¢ä¸­çš„å…³äºŽRxSwiftåº“ä»‹ç»çš„æ–‡ç« ã€‚Moyaä½¿ç”¨RxSwiftå¾ˆç®€å•ï¼Œå¦‚ä¸‹æ‰€ç¤ºæˆ‘ä»¬åªéœ€è¦å¯¹è¯·æ±‚ç»“æžœè¿›è¡Œç›‘å¬å°±è¡Œäº† ä½¿ç”¨RxSwiftå¯ä»¥è¿™æ ·æ¥è¯·æ±‚ `let provider = RxMoyaProvider&lt;ApiManager&gt;()//è¦ä½¿ç”¨RxMoyaProvideråˆ›å»ºproviderï¼Œæš‚æ—¶ä¸æºå¸¦ä»»ä½•å‚æ•° provider.request(.getNewsList).subscribe { event in switch event { case .next(let response): // do something with the data case .error(let error): // handle the error } } ` æˆ‘ä»¬è¿˜å¯ä»¥å¯¹Observableè¿›è¡Œæ‰©å±•ï¼Œè‡ªå®šä¹‰ä¸€äº›è‡ªå·±æµæ°´çº¿æ“ä½œï¼Œæ¯”å¦‚è‡ªåŠ¨å®žçŽ°jsonè½¬åŒ–Modelï¼Œå®šä¹‰å¦‚ä¸‹ã€‚ `func mapObject&lt;T: Mappable&gt;(type: T.Type) -&gt; Observable&lt;T&gt; { return self.map { response in //if response is a dictionary, then use ObjectMapper to map the dictionary //if not throw an error guard let dict = response as? [String: Any] else { throw RxSwiftMoyaError.ParseJSONError } guard (dict["code"] as?Int) != nil else{ throw RxSwiftMoyaError.ParseJSONError } if let error = self.parseError(response: dict) { throw error } return Mapper&lt;T&gt;().map(JSON: dict)! } } ` ä¸‹è¾¹çš„æ–¹æ³•å°±éœ€è¦æ ¹æ®æœåŠ¡å™¨è¿”å›žæ•°æ®è¿›è¡Œåˆ¤æ–­äº†ï¼Œæˆ‘å¸¸ç”¨çš„é€»è¾‘æ˜¯æ•°æ®è¯·æ±‚æˆåŠŸäº†æ‰è¿”å›žå†å°±è¡Œç•Œé¢èµ‹å€¼åˆ·æ–°æ“ä½œï¼Œå¦‚æžœæ˜¯çŠ¶æ€ç ä¸æˆåŠŸå°±ç›´æŽ¥æ‹¦æˆªæŠ›å‡ºé”™è¯¯ï¼ˆåŽå°è¿”å›žçš„messageï¼‰ï¼Œæ¯”å¦‚æ˜¯ç™»å½•å¯†ç é”™è¯¯æç¤ºä¹‹ç±»çš„ `fileprivate func parseError(response: [String: Any]?) -&gt; NSError? { var error: NSError? if let value = response { var code:Int? //åŽå°çš„æ•°æ®æ¯æ¬¡ä¼šè¿”å›žcodeåªæœ‰æ˜¯200æ‰ä¼šè¡¨ç¤ºé€»è¾‘æ­£å¸¸æ‰§è¡Œ if let codes = value["code"] as?Int { code = codes } if code != 200 { var msg = "" if let message = value["message"] as? String { msg = message } error = NSError(domain: "Network", code: code!, userInfo: [NSLocalizedDescriptionKey: msg]) } } return error } ` é‚£ä¹ˆå°±å¯ä»¥å®šä¹‰ä¸€ä¸ªè¯·æ±‚æ–¹æ³•äº† `func login(phone: String, password:String) -&gt; Observable&lt;UserModel&gt; { return provider.request(.Login(phone: phone, password: password)) .mapJSON() .debug() // æ‰“å°è¯·æ±‚å‘é€ä¸­çš„è°ƒè¯•ä¿¡æ¯ .mapObject(type: UserModel.self) } ` å¦‚ä¸‹ä»£ç å°±å®Œæˆäº†ä¸€æ¬¡è¯·æ±‚ `let viewModel = ViewModel(self) viewModel.login(phone: "156178...." , password: "11111") .subscribe(onNext: { (userModel: UserModel) in //do something with posts print(userModel.user?.nickName ?? "") }) .addDisposableTo(dispose) ` Moyaä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šObservableçš„æ‰©å±•ï¼Œè®©æˆ‘ä»¬èƒ½æ›´è½»æ¾çš„å¤„ç†MoyaResponseï¼Œå¸¸ç”¨çš„å¦‚ä¸‹ï¼š filter(statusCodes:) è¿‡æ»¤responseçŠ¶æ€ç  filterSuccessfulStatusCodes() è¿‡æ»¤çŠ¶æ€ç ä¸ºè¯·æ±‚æˆåŠŸçš„ mapJSON() å°†è¯·æ±‚responseè½¬åŒ–ä¸ºJSONæ ¼å¼ mapString() å°†è¯·æ±‚responseè½¬åŒ–ä¸ºStringæ ¼å¼ å…·ä½“å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ ä¸‹è¾¹å°±è¯´è¯´RxMoyaProviderå‚æ•°å§ EndpointClosureæ²¡å†™ä»€ä¹ˆå°±æ‰“å°ä¸‹å‚æ•°ï¼Œè¯·æ±‚æ–¹æ³•ï¼Œè·¯å¾„..å¯ä»¥æ ¸å¯¹ `private func endpointMapping&lt;Target: TargetType&gt;(target: Target) -&gt; Endpoint&lt;Target&gt; { print("è¯·æ±‚è¿žæŽ¥ï¼š\(target.baseURL)\(target.path) \næ–¹æ³•ï¼š\(target.method)\nå‚æ•°ï¼š\(String(describing: target.parameters)) ") return MoyaProvider.defaultEndpointMapping(for: target) } ` managerç”¨çš„æ˜¯Alamofireè¯·æ±‚ï¼Œè¿™é‡Œä¸»è¦å†™äº†ä¸€ä¸ªå¿½ç•¥SSLéªŒè¯çš„æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œä¿®æ”¹è¯·æ±‚å¤´ç­‰ç­‰ `public func defaultAlamofireManager() -&gt; Manager { let configuration = URLSessionConfiguration.default configuration.httpAdditionalHeaders = Alamofire.SessionManager.defaultHTTPHeaders let policies: [String: ServerTrustPolicy] = [ "ap.dimain.cn": .disableEvaluation ] let manager = Alamofire.SessionManager(configuration: configuration,serverTrustPolicyManager: ServerTrustPolicyManager(policies: policies)) manager.startRequestsImmediately = false return manager } ` æœ€æœ‰æ„æ€çš„è¿˜æ˜¯æ’ä»¶äº† ï¼Œå¯ä»¥è‡ªå®šä¹‰å„ç§åŠŸèƒ½ pluginspluginså‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„çš„å½¢å¼ï¼Œéµå¾ªPluginTypeåè®®æˆ‘ä»¬å…ˆçœ‹ä¸‹PluginTypeçš„åè®®å†…å®¹ `public protocol PluginType { /// Called to modify a request before sending //è¯·æ±‚å‰å¯ä»¥ä¿®æ”¹ä¸€äº›request func prepare(_ request: URLRequest, target: TargetType) -&gt; URLRequest /// Called immediately before a request is sent over the network (or stubbed). //å¼€å§‹è¯·æ±‚ func willSend(_ request: RequestType, target: TargetType) /// Called after a response has been received, but before the MoyaProvider has invoked its completion handler. //ç»“æŸè¯·æ±‚ func didReceive(_ result: Result&lt;Moya.Response, MoyaError&gt;, target: TargetType) /// Called to modify a result before completion func process(_ result: Result&lt;Moya.Response, MoyaError&gt;, target: TargetType) -&gt; Result&lt;Moya.Response, MoyaError&gt; } ` çŠ¶æ€æ¡ä¸­çš„ç½‘ç»œåŠ è½½æç¤º,ä¿—ç§°â€èŠèŠ±åŠ è½½ networkActivityPlugin`let networkActivityPlugin = NetworkActivityPlugin { (change) -&gt; () in switch(change){ case .ended: UIApplication.shared.isNetworkActivityIndicatorVisible = false case .began: UIApplication.shared.isNetworkActivityIndicatorVisible = true } } ` NetworkActivityPluginæ˜¯Moyaæä¾›çš„æ–¹æ³•ï¼Œè¿˜æ˜¯æ ¹æ®PluginTypeçš„åè®®å®žçŽ°çš„ è¯·æ±‚ä¸€èˆ¬å°±éœ€è¦loadingäº†è¿™é‡Œç”¨MBProgressHUDå®žçŽ°è‡ªåŠ¨æ˜¾ç¤ºéšè— ` public final class RequestLoadingPlugin: PluginType { private let viewController: UIViewController var HUD:MBProgressHUD var hide:Bool init(_ vc: UIViewController,_ hideView:Bool) { self.viewController = vc self.hide = hideView HUD = MBProgressHUD.init() guard self.hide else { return } HUD = MBProgressHUD.showAdded(to: self.viewController.view, animated: true) } public func willSend(_ request: RequestType, target: TargetType) { print("å¼€å§‹è¯·æ±‚\(self.viewController)") if self.hide != false { HUD.mode = MBProgressHUDMode.indeterminate HUD.label.text = "åŠ è½½ä¸­" HUD.bezelView.color = UIColor.lightGray HUD.removeFromSuperViewOnHide = true HUD.backgroundView.style = .solidColor //æˆ–SolidColor } } public func didReceive(_ result: Result&lt;Response, MoyaError&gt;, target: TargetType) { print("ç»“æŸè¯·æ±‚") HUD.hide(animated: true) } } ` ä¿®æ”¹è¯·æ±‚å¤´æƒ³æƒ³ä¸è¯¥æ”¾åœ¨æ’ä»¶äº†å®žçŽ°ï¼Œåº”è¯¥æ˜¯åœ¨manageré‡Œå®žçŽ°ï¼Œå…ˆæ”¾å‡ºæ¥ä»£ç å§ `struct AuthPlugin: PluginType { let token: String func prepare(_ request: URLRequest, target: TargetType) -&gt; URLRequest { var request = request request.timeoutInterval = 30 request.addValue(token, forHTTPHeaderField: "token") request.addValue("ios", forHTTPHeaderField: "platform") request.addValue("version", forHTTPHeaderField: Bundle.main.object(forInfoDictionaryKey: "CFBundleShortVersionString") as! String) return request } } ` è¯·æ±‚æ—¶å€™é‡åˆ°é€»è¾‘é”™è¯¯æˆ–è€…ä¸æ»¡è¶³æ¡ä»¶ï¼Œå‚æ•°é”™è¯¯ç­‰è¦æç¤ºè¿™é‡Œç”¨çš„æ˜¯Toast `//æ£€æµ‹tokenæœ‰æ•ˆæ€§ final class AccessTokenPlugin: PluginType { private let viewController: UIViewController init(_ vc: UIViewController) { self.viewController = vc } public func willSend(_ request: RequestType, target: TargetType) {} public func didReceive(_ result: Result&lt;Response, MoyaError&gt;, target: TargetType) { switch result { case .success(let response): //è¯·æ±‚çŠ¶æ€ç  guard response.statusCode == 200 else { return } var json:Dictionary? = try! JSONSerialization.jsonObject(with: response.data,options:.allowFragments) as! [String: Any] print("è¯·æ±‚çŠ¶æ€ç \(json?["status"] ?? "")") guard (json?["message"]) != nil else { return } guard let codeString = json?["status"]else {return} //è¯·æ±‚çŠ¶æ€ä¸º1æ—¶å€™ç«‹å³è¿”å›žä¸å¼¹å‡ºä»»ä½•æç¤º å¦åˆ™æç¤ºåŽå°è¿”å›žçš„é”™è¯¯ä¿¡æ¯ guard codeString as! Int != 1 else{return} self.viewController.view .makeToast( json?["message"] as! String) case .failure(let error): print("å‡ºé”™äº†\(error)") break } } } ` AccessTokenPluginè¿™ä¸ªåå­—æœ‰ç‚¹é—®é¢˜å“ˆï¼Œèµ·åˆæ˜¯æƒ³åœ¨è¿™é‡Œåˆ¤æ–­tokenä¸æ­£ç¡®å°±é€€å‡ºç™»å½•ç”¨çš„ç”±äºŽæ²¡æœ‰åˆé€‚çš„apiå°±å®žçŽ°äº†è¯·æ±‚ç»“æžœçš„çŠ¶æ€åˆ¤æ–­ï¼Œè¿™å°±è‡ªåŠ¨å®žçŽ°äº†é€»è¾‘é”™è¯¯çš„æç¤ºäº† ä¸ç”¨ä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªè¯·æ±‚çš„åˆ¤æ–­äº†ï¼Œè¿˜æ˜¯æŒºæ–¹ä¾¿çš„ æœ‰äº†è¿™äº›æ’ä»¶å°±å¯ä»¥è¿™æ ·åˆå§‹åŒ–RxMoyaProvider `let provider :RxMoyaProvider&lt;ApiManager&gt; provider = RxMoyaProvider&lt;ApiManager&gt;( endpointClosure: endpointMapping, manager:defaultAlamofireManager(), plugins:[RequestLoadingPlugin(self.viewController,true), AccessTokenPlugin( self.viewController), NetworkLoggerPlugin(verbose: true), networkActivityPlugin,AuthPlugin(token: "æš‚æ—¶ä¸ºç©º")] ` å…³äºŽMoyaçš„ç”¨æ³•å…ˆä»‹ç»åˆ°è¿™é‡ŒåŽç»­æˆ‘ä¼šç»§ç»­æŽ¢ç©¶æ›´åŠ çµæ´»å…¨é¢çš„ç”¨æ³•ã€‚ ä¸‹è¾¹ä»‹ç»ä¸‹Thençš„è¯­æ³•æ£‰èŠ±ç³–å§ï¼Œçœ‹ä¾‹å­å§`_ = UILabel.init(frame: CGRect.init(x: 0, y: 0, width: kScreenW, height: 50)).then({ (make) in make.text = "Thençš„ç®€å•ç”¨æ³•è¶…èµžðŸ‘" make.font = .systemFont(ofSize: 20) make.textColor = .red make.textAlignment = .center self.view.addSubview(make) }) UserDefaults.standard.do { $0.set("devxoul", forKey: "username") $0.set("devxoul@gmail.com", forKey: "email") $0.synchronize() let tableView = UITableView().then { $0.backgroundColor = .clear $0.separatorStyle = .none $0.register(MyCell.self, forCellReuseIdentifier: "myCell") } } ` å¦‚æžœå¸ƒå±€è¿™æ ·è¿˜ä¸ç®€å•é‚£å†çœ‹ä¸‹è¾¹ç”¨Thenå’ŒSnapKitä¸€èµ·ä½¿ç”¨çš„æ–¹å¼ `_ = UILabel().then({ (make) in make.text = "Thençš„ç®€å•ç”¨æ³•è¶…èµžðŸ‘" make.font = .systemFont(ofSize: 20) make.textColor = .red make.textAlignment = .center self.view.addSubview(make) make.snp.makeConstraints({ (make) in make.top.left.right.equalTo(0) make.height.equalTo(50) }) }) ` å†ä¸æ»¡æ„åªèƒ½ç”¨Xibå¸ƒå±€äº†â€¦. åœ¨Swiftä¸­ç”¨SDCycleScrollViewè½®æ’­å›¾SDCycleScrollViewä¹‹å‰ä¸€ç›´åœ¨OCä¸­ä½¿ç”¨è§‰å¾—å¾ˆç®€å•åˆç†Ÿæ‚‰äº†æ‰€ä»¥è¿™æ¬¡å†™çš„Demoä¾æ—§æ¬äº†è¿‡æ¥ï¼Œä½†æ˜¯å‘¢SDCycleScrollViewé‡Œå®žçŽ°å›¾ç‰‡ä¸‹è½½ç”¨çš„æ˜¯SDWebImageï¼Œè€ŒSwiftç‰ˆæœ¬æä¾›äº†Kingfisheré‚£ä¸å¯èƒ½éƒ½ç”¨äº†ï¼Œå› ä¸ºä¹Ÿä¸æƒ³æ”¾å¼ƒSDCycleScrollViewå°±ä¸å¾—å·²ä¿®æ”¹äº†é‡Œè¾¹å›¾ç‰‡ä¸‹è½½çš„æ–¹æ³•ï¼Œåœ¨Swifté¡¹ç›®é‡ŒOCç±»ç›´æŽ¥è°ƒç”¨Swiftç±»æ˜¯è°ƒç”¨ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘å°±å’¨è¯¢äº†ä¸‹æ‰¾åˆ°ä¸€ä¸ªåˆé€‚åŠžæ³•ï¼Œæ–°å»ºSwifté‡Œç»§æ‰¿SDCycleScrollViewç„¶åŽç”¨Kingfisherå®žçŽ°å›¾ç‰‡ä¸‹è½½ï¼Œæ–¹æ³•æ¯”è¾ƒç®€å•å°±æ˜¯ç»™å¼€å‘è€…æä¾›ä¸€ä¸ªå‚è€ƒæ–¹æ³• `import UIKit import SDCycleScrollView import Kingfisher class CustomSDCycleScrollView: SDCycleScrollView { //å› ä¸ºä¹‹å‰åº“é‡Œè¾¹ç”¨çš„æ˜¯SDWebImageView ç¼“å­˜çš„å›¾ç‰‡ çŽ°åœ¨ æ¢äº†Swiftç‰ˆæœ¬çš„Kingfisheræ‰€ä»¥ æ— å¥ˆä¿®æ”¹äº†åŽŸåº“çš„æ–¹æ³• é‡å†™äº†ä¸‹ open override func imageView(_ imageView: UIImageView!, url: URL!) -&gt; UIImageView! { let imageView: UIImageView? = imageView imageView?.kf.setImage(with: url,placeholder:UIImage.init(named: "tab_5th_h")) return imageView } //é‡å†™ocä»£ç  åˆ é™¤ç¼“å­˜ override class func clearImagesCache() { let cache = KingfisherManager.shared.cache // èŽ·å–ç¡¬ç›˜ç¼“å­˜çš„å¤§å° cache.calculateDiskCacheSize { (size) -&gt; () in print("ç£ç›˜ç¼“å­˜å¤§å°ï¼š \(size) bytes ") cache.clearDiskCache() } } } ` ç”¨çš„æ—¶å€™ç›´æŽ¥ä½¿ç”¨CustomSDCycleScrollViewå³å¯ é¡¹ç›®ä½¿ç”¨MJRefreshå®žçŽ°åˆ·æ–°ç»™UIScrollViewå†™äº†ä¸€ä¸ªç±»åˆ«æ¯”è¾ƒç®€å•ä»£ç å¦‚ä¸‹ `import UIKit import MJRefresh extension UIScrollView { func headerRefresh(block: @escaping () -&gt; ()) -&gt; (){ self.mj_header = MJRefreshNormalHeader.init(refreshingBlock: { block() }) } func footerRefresh(block: @escaping () -&gt; ()) -&gt; (){ self.mj_footer = MJRefreshBackNormalFooter(refreshingBlock: { block() }) } func endrefresh(){ self.mj_footer.endRefreshing() self.mj_header.endRefreshing() } } ` ç”¨çš„æ—¶å€™æ›´ç®€å•äº† `weak var weakself = self//ä¸Šæ‹‰åˆ·æ–°tableView.headerRefresh {weakself?.loadData()}//ä¸‹æ‹‰åŠ è½½tableView.footerRefresh{weakself?.loadData()}//ç»“æŸåˆ·æ–°self.tableView.endrefresh()]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨ iTunes æŽ¥å£æ£€æŸ¥Appç‰ˆæœ¬æ›´æ–°]]></title>
    <url>%2F2018%2F01%2F16%2FiOS%2Fskill%2F%E5%88%A9%E7%94%A8iTunes%E6%8E%A5%E5%8F%A3%E6%A3%80%E6%9F%A5App%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0.html</url>
    <content type="text"><![CDATA[iOS æƒ³è¦æ£€æŸ¥ App å½“å‰ç‰ˆæœ¬æ˜¯å¦ä¸ºæœ€æ–°ï¼Œä¸€èˆ¬çš„æ–¹æ¡ˆå¤§æ¦‚éƒ½æ˜¯æœåŠ¡å™¨è‡ªå·±æä¾›ä¸€ä¸ªæŽ¥å£æ¥èŽ·å– App æœ€æ–°ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Œç„¶åŽå†åšå‡ºç›¸åº”æç¤ºæ˜¯å¦éœ€è¦æ›´æ–°ï¼Œä½†æ˜¯æŽ¥å£éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ï¼Œåº”ç”¨è¦å®¡æ ¸ï¼Œè¿˜å¾—ç­‰å®¡æ ¸é€šè¿‡ä»¥åŽæ‰èƒ½æ›´æ–°ç‰ˆæœ¬å·ï¼Œå…¶å®žè‹¹æžœæä¾›äº†ä¸€ä¸ª iTunes æŽ¥å£ï¼Œèƒ½å¤ŸæŸ¥åˆ° App åœ¨ AppStore ä¸Šçš„çŠ¶æ€ä¿¡æ¯ï¼Œæ—¢çœäº‹åˆå‡†ç¡®ï¼Œä¸‹é¢è®°å½•ä¸€ä¸‹å…·ä½“å®žçŽ°æ–¹æ³•ã€‚ æŽ¥å£ä¿¡æ¯URLiTunes æŽ¥å£åœ°å€ æœ‰å…´è¶£å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°çš„æŽ¥å£å¦‚ä¸‹ï¼Œxxx å¤„æ¢æˆè‡ªå·± App çš„ AppId ï¼ŒAppId å¯ä»¥åœ¨ iTunes Connect é‡Œé¢çœ‹åˆ°ã€‚ 1http://itunes.apple.com/lookup?id=xxx Response JSON123456789101112131415&#123; "resultCount" : 1, "results" : [&#123; "artistId" : "å¼€å‘è€… ID", "artistName" : "å¼€å‘è€…åç§°", "trackCensoredName" : "å®¡æŸ¥åç§°", "trackContentRating" : "è¯„çº§", "trackId" : "åº”ç”¨ç¨‹åº ID", "trackName" = "åº”ç”¨ç¨‹åºåç§°", "trackViewUrl" = "åº”ç”¨ç¨‹åºä¸‹è½½ç½‘å€", "userRatingCount" = "ç”¨æˆ·è¯„è®ºæ•°é‡", "userRatingCountForCurrentVersion" = "å½“å‰ç‰ˆæœ¬çš„ç”¨æˆ·è¯„è®ºæ•°é‡", "version" = "ç‰ˆæœ¬å·" &#125;]&#125; å®žçŽ°æ–¹æ³•ä¸‹é¢æ˜¯æ£€æŸ¥ç‰ˆæœ¬æ›´æ–°çš„å…·ä½“å®žçŽ°æ–¹æ³•ï¼Œæ³¨æ„æŽ¥å£åœ°å€ xxx å¤„æ¢æˆè‡ªå·± App çš„ AppId å¼€å§‹è¯·æ±‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364/// æ£€æŸ¥ç‰ˆæœ¬æ›´æ–°- (void)checkVersion &#123; NSString *url = @"http://itunes.apple.com/lookup?id=xxx"; [[AFHTTPSessionManager manager] POST:url parameters:nil progress:nil success:^(NSURLSessionDataTask *task, id responseObject) &#123; DLog(@"ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥æˆåŠŸ"); NSArray *results = responseObject[@"results"]; if (results &amp;&amp; results.count &gt; 0) &#123; NSDictionary *response = results.firstObject; NSString *currentVersion = [[NSBundle mainBundle] objectForInfoDictionaryKey:@"CFBundleShortVersionString"]; // è½¯ä»¶çš„å½“å‰ç‰ˆæœ¬ NSString *lastestVersion = response[@"version"]; // AppStore ä¸Šè½¯ä»¶çš„æœ€æ–°ç‰ˆæœ¬ if (currentVersion &amp;&amp; lastestVersion &amp;&amp; ![self isLastestVersion:currentVersion compare:lastestVersion]) &#123; // ç»™å‡ºæç¤ºæ˜¯å¦å‰å¾€ AppStore æ›´æ–° UIAlertController *alert = [UIAlertController alertControllerWithTitle:@"æç¤º" message:@"æ£€æµ‹åˆ°æœ‰ç‰ˆæœ¬æ›´æ–°ï¼Œæ˜¯å¦å‰å¾€ AppStore æ›´æ–°ç‰ˆæœ¬ã€‚" preferredStyle:UIAlertControllerStyleAlert]; [alert addAction:[UIAlertAction actionWithTitle:@"å‰å¾€" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) &#123; NSString *trackViewUrl = response[@"trackViewUrl"]; // AppStore ä¸Šè½¯ä»¶çš„åœ°å€ if (trackViewUrl) &#123; NSURL *appStoreURL = [NSURL URLWithString:trackViewUrl]; if ([[UIApplication sharedApplication] canOpenURL:appStoreURL]) &#123; [[UIApplication sharedApplication] openURL:appStoreURL]; &#125; &#125; &#125;]]; [alert addAction:[UIAlertAction actionWithTitle:@"å–æ¶ˆ" style:UIAlertActionStyleCancel handler:nil]]; [self.window.rootViewController presentViewController:alert animated:YES completion:nil]; &#125; &#125; &#125; failure:^(NSURLSessionDataTask *task, NSError *error) &#123; DLog(@"ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥å¤±è´¥"); &#125;];&#125; /// åˆ¤æ–­æ˜¯å¦æœ€æ–°ç‰ˆæœ¬å·ï¼ˆå¤§äºŽæˆ–ç­‰äºŽä¸ºæœ€æ–°ï¼‰- (BOOL)isLastestVersion:(NSString *)currentVersion compare:(NSString *)lastestVersion &#123; if (currentVersion &amp;&amp; lastestVersion) &#123; // æ‹†åˆ†æˆæ•°ç»„ NSMutableArray *currentItems = [[currentVersion componentsSeparatedByString:@"."] mutableCopy]; NSMutableArray *lastestItems = [[lastestVersion componentsSeparatedByString:@"."] mutableCopy]; // å¦‚æžœæ•°é‡ä¸ä¸€æ ·è¡¥0 NSInteger currentCount = currentItems.count; NSInteger lastestCount = lastestItems.count; if (currentCount != lastestCount) &#123; NSInteger count = labs(currentCount - lastestCount); // å–ç»å¯¹å€¼ for (int i = 0; i &lt; count; ++i) &#123; if (currentCount &gt; lastestCount) &#123; [lastestItems addObject:@"0"]; &#125; else &#123; [currentItems addObject:@"0"]; &#125; &#125; &#125; // ä¾æ¬¡æ¯”è¾ƒ BOOL isLastest = YES; for (int i = 0; i &lt; currentItems.count; ++i) &#123; NSString *currentItem = currentItems[i]; NSString *lastestItem = lastestItems[i]; if (currentItem.integerValue != lastestItem.integerValue) &#123; isLastest = currentItem.integerValue &gt; lastestItem.integerValue; break; &#125; &#125; return isLastest; &#125; return NO;&#125;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>ç‰ˆæœ¬æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-é‡å†™ä¸Žé‡è½½çš„ä½¿ç”¨å’Œæ¯”è¾ƒ]]></title>
    <url>%2F2017%2F10%2F03%2FiOS%2FSwift%2FSwift-%E9%87%8D%E5%86%99%E4%B8%8E%E9%87%8D%E8%BD%BD%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E6%AF%94%E8%BE%83.html</url>
    <content type="text"><![CDATA[1.é‡è½½: å‡½æ•°åç›¸åŒï¼Œå‚æ•°å;å‚æ•°ç±»åž‹;å‚æ•°ä¸ªæ•°ä¸åŒ é‡è½½å‡½æ•°å¹¶ä¸ä»…ä»…å±€é™äºŽæž„é€ å‡½æ•° å‡½æ•°é‡è½½æ˜¯é¢ç›¸å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€çš„é‡è¦æ ‡å¿— OC ä¸æ”¯æŒå‡½æ•°é‡è½½ï¼ŒOC çš„æ›¿ä»£æ–¹å¼æ˜¯ withXXXâ€¦ 2. é‡å†™ï¼š ä¹Ÿå«è¦†ç›–ï¼ŒæŒ‡åœ¨å­ç±»ä¸­å®šä¹‰ä¸€ä¸ªä¸Žçˆ¶ç±»ä¸­æ–¹æ³•åŒååŒå‚æ•°åˆ—è¡¨çš„æ–¹æ³•ã€‚ é‡å†™æ˜¯å­ç±»çš„æ–¹æ³•è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¦æ±‚æ–¹æ³•åå’Œå‚æ•°éƒ½ç›¸åŒ å› ä¸ºå­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œé‡å†™å°±æ˜¯å°†ä»Žçˆ¶ç±»ç»§æ‰¿è¿‡æ¥çš„æ–¹æ³•é‡æ–°å®šä¹‰ä¸€æ¬¡ï¼Œé‡æ–°å¡«å†™æ–¹æ³•ä¸­çš„ä»£ç ã€‚ é‡å†™å¿…é¡»ç»§æ‰¿ï¼Œé‡è½½ä¸ç”¨ å‡è®¾æœ‰ä¸€ä¸ªPersonç±»,ç”¨äºŽ name å’Œ age ä¸¤ä¸ªå±žæ€§,æˆ‘ä»¬åˆ†åˆ«ç”¨é‡å†™å’Œé‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ å±žæ€§ åˆ›å»ºPersonç±»12345678910111213class Person: NSObject &#123; var name: String // å§“å var age: Int // å¹´é¾„ // æž„é€ å‡½æ•° init(name: String,age: Int) &#123; self.name = name self.age = age // å¿…é¡»åœ¨ super.init() ä¹‹å‰ åˆå§‹åŒ–å¯¹è±¡ super.init() &#125;&#125; é€šè¿‡é‡å†™æ–¹æ³•ä¸ºå…¶æ·»åŠ  â€œlessonâ€ å±žæ€§1234567891011121314151617class Student: Person &#123; var lesson: String /// é‡å†™ /// /// - Parameters: /// - name: å§“å /// - age: å¹´é¾„ override init(name: String, age: Int) &#123; lesson = "Python" // å¿…é¡»æ”¾åœ¨super.init()ä¹‹å‰ super.init(name: name, age: age) &#125;&#125; 123/// é‡å†™å®žä¾‹åŒ–çš„å¯¹è±¡let s = Student(name: "Joyce", age: 18)print(s.lesson) // Python é€šè¿‡é‡è½½æ–¹æ³•ä¸ºå…¶æ·»åŠ  â€œlessonâ€ å±žæ€§123456789101112131415161718class Student: Person &#123; var lesson: String /// é‡è½½ /// /// - Parameters: /// - name: å§“å /// - age: å¹´é¾„ /// - lesson: è¯¾ç¨‹ init(name: String, age: Int, lesson:String) &#123; self.lesson = lesson super.init(name: name, age: age) &#125;&#125; 123/// é‡è½½å®žä¾‹åŒ–çš„å¯¹è±¡let s1 = Student(name: "Yang", age: 24, lesson: "iOS")print(s1.lesson) // iOS æ€»ç»“: é€šè¿‡é‡è½½,å¯ä»¥å¿«é€Ÿä¸ºæ–¹æ³•æ·»åŠ æ–°çš„å±žæ€§,å±žæ€§å¯ä»¥é€šè¿‡å¤–éƒ¨ä¼ å…¥ é‡å†™,åªèƒ½åœ¨æ–¹æ³•å†…éƒ¨è®¾ç½®å±žæ€§,å¤–éƒ¨æ— æ³•ç›´è§‚çœ‹åˆ°ç±»çš„å‚æ•°åˆ—è¡¨]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[swift-ç±»å’Œç»“æž„ä½“(class&struct)]]></title>
    <url>%2F2017%2F10%2F02%2Fswift-class%26struct.html</url>
    <content type="text"><![CDATA[è¾ƒä¼ ç»Ÿçš„OCè¯­è¨€ï¼Œswiftä½¿ç”¨äº†æ›´å¤šçš„ç»“æž„ä½“,åœ¨ swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»åž‹,éƒ½æ˜¯ç»“æž„ä½“ç±»åž‹ æ•´æ•°ï¼ˆIntegerï¼‰ æµ®ç‚¹æ•°ï¼ˆfloating-pointï¼‰ å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ å­—ç¬¦ä¸²ï¼ˆstring) æ•°ç»„ï¼ˆarray) å­—å…¸ï¼ˆdictionaryï¼‰ åœ¨æ¯”è¾ƒç±»å’Œç»“æž„ä½“ä¹‹é—´çš„åŒºåˆ«ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œå¼•ç”¨ç±»åž‹å’Œå€¼ç±»åž‹ï¼šå¼•ç”¨ç±»åž‹ å¼•ç”¨ç±»åž‹åœ¨è¢«èµ‹äºˆåˆ°ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå…¶å€¼ä¸ä¼šè¢«æ‹·è´ã€‚å› æ­¤ï¼Œå¼•ç”¨çš„æ˜¯å·²å­˜åœ¨çš„å®žä¾‹æœ¬èº«è€Œä¸æ˜¯å…¶æ‹·è´ å€¼ç±»åž‹ å®ƒä»¬çš„å®žä¾‹ï¼Œä»¥åŠå®žä¾‹ä¸­æ‰€åŒ…å«çš„ä»»ä½•å€¼ç±»åž‹å±žæ€§ï¼Œåœ¨ä»£ç ä¸­ä¼ é€’çš„æ—¶å€™éƒ½ä¼šè¢«å¤åˆ¶ ç±»å’Œç»“æž„ä½“å¯¹æ¯”æœ¬è´¨åŒºåˆ«ï¼š ç±»æ˜¯å¼•ç”¨ç±»åž‹ï¼Œå®žä¾‹æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’ ç»“æž„ä½“æ˜¯å€¼ç±»åž‹ï¼Œå®žä¾‹æ˜¯é€šè¿‡å€¼ä¼ é€’ swift ä¸­ç±»å’Œç»“æž„ä½“æœ‰å¾ˆå¤šå…±åŒç‚¹ å®šä¹‰å±žæ€§ç”¨äºŽå­˜å‚¨å€¼ å®šä¹‰æ–¹æ³•ç”¨äºŽæä¾›åŠŸèƒ½ å®šä¹‰ä¸‹æ ‡æ“ä½œä½¿å¾—å¯ä»¥é€šè¿‡ä¸‹æ ‡è¯­æ³•æ¥è®¿é—®å®žä¾‹æ‰€åŒ…å«çš„å€¼ å®šä¹‰æž„é€ å™¨ç”¨äºŽç”Ÿæˆåˆå§‹åŒ–å€¼ é€šè¿‡æ‰©å±•ä»¥å¢žåŠ é»˜è®¤å®žçŽ°çš„åŠŸèƒ½ å®žçŽ°åè®®ä»¥æä¾›æŸç§æ ‡å‡†åŠŸèƒ½ ä¸Žç»“æž„ä½“ç›¸æ¯”ï¼Œç±»è¿˜æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½ ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹å¾ ç±»åž‹è½¬æ¢å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šä¸€ä¸ªç±»å®žä¾‹çš„ç±»åž‹ æžæž„å™¨å…è®¸ä¸€ä¸ªç±»å®žä¾‹é‡Šæ”¾ä»»ä½•å…¶æ‰€è¢«åˆ†é…çš„èµ„æº å¼•ç”¨è®¡æ•°å…è®¸å¯¹ä¸€ä¸ªç±»çš„å¤šæ¬¡å¼•ç”¨ ç»“æž„ä½“å’Œç±»çš„å®šä¹‰è¯­æ³•ç»“æž„ä½“å®šä¹‰è¯­æ³•123struct SomeStructure &#123; // åœ¨è¿™é‡Œå®šä¹‰ç»“æž„ä½“&#125; æ‰€æœ‰ç»“æž„ä½“éƒ½æœ‰ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æˆå‘˜é€ä¸€æž„é€ å™¨ï¼Œç”¨äºŽåˆå§‹åŒ–æ–°ç»“æž„ä½“å®žä¾‹ä¸­æˆå‘˜çš„å±žæ€§ ç±»å®šä¹‰è¯­æ³• ï¼ˆä¸€ï¼‰ ä¸ç»§æ‰¿NSObjectçš„ç±»ï¼Œå«åšåŸºç±» 123class SomeClass &#123; // åœ¨è¿™é‡Œå®šä¹‰ç±»&#125; ç±»å®šä¹‰è¯­æ³• ï¼ˆäºŒï¼‰ è¿™ç§ç±»ç»§æ‰¿è‡ªNSObject,å¯ä»¥ä½¿ç”¨OCä¸­çš„ NSObject çš„ç‰¹æ€§ eg:KVO,runtime 123class SomeClass: NSObject &#123; // åœ¨è¿™é‡Œå®šä¹‰ç±»&#125; ç±»å’Œç»“æž„ä½“ä½¿ç”¨æ³¨æ„ç±»æ˜¯å¼•ç”¨ç±»åž‹ï¼Œå…¶å±žæ€§å¦‚æžœæ˜¯å¯å˜ç±»åž‹ï¼Œå¯ä»¥ç›´æŽ¥ä¿®æ”¹ï¼Œä¿®æ”¹åŽç±»åž‹ä¸å˜ç»“æž„ä½“æ˜¯å€¼ç±»åž‹ï¼Œåˆå§‹åŒ–å®ŒæˆåŽï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸å…è®¸ä¿®æ”¹å…¶å±žæ€§ï¼›å¦‚æžœä¿®æ”¹å…¶å±žæ€§ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ç»“æž„ä½“ï¼›å¦‚æžœæƒ³ä¸æ”¹å˜ç»“æž„ä½“çš„ç±»åž‹ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªmutatingä¿®é¥°çš„æ–¹æ³•ï¼Œä¸“é—¨ç”¨æ¥ä¿®æ”¹å…¶å±žæ€§ å†™æ—¶å¤åˆ¶ (copy-on-write)swiftç”¨äº†å¤§é‡çš„ç»“æž„ä½“ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½æ˜¯å¤åˆ¶ä¸€ä»½ï¼Œæ˜¯ä¸æ˜¯å¾ˆæµªè´¹å†…å­˜ï¼Ÿ ç­”ï¼šåœ¨ swift æ ‡å‡†åº“ä¸­ï¼Œåƒæ˜¯ Arrayï¼ŒDictionary å’Œ Set è¿™æ ·çš„é›†åˆç±»åž‹æ˜¯é€šè¿‡ä¸€ç§å«åšå†™æ—¶å¤åˆ¶ (copy-on-write) çš„æŠ€æœ¯å®žçŽ°çš„ï¼Œè¯¥æŠ€æœ¯ä¼˜åŒ–äº†è¿™ä¸€é—®é¢˜ï¼Œè®©ç»“æž„ä½“åœ¨æ ¸åˆé€‚çš„æ—¶å€™æ‰è¿›è¡Œå¤åˆ¶ã€‚ ç±»å’Œç»“æž„ä½“çš„é€‰æ‹©å½“ç¬¦åˆä¸€æ¡æˆ–å¤šæ¡ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œè¯·è€ƒè™‘æž„å»ºç»“æž„ä½“ï¼š è¯¥æ•°æ®ç»“æž„çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥å°è£…å°‘é‡ç›¸å…³ç®€å•æ•°æ®å€¼ï¼› æœ‰ç†ç”±é¢„è®¡è¯¥æ•°æ®ç»“æž„çš„å®žä¾‹åœ¨è¢«èµ‹å€¼æˆ–ä¼ é€’æ—¶ï¼Œå°è£…çš„æ•°æ®å°†ä¼šè¢«æ‹·è´è€Œä¸æ˜¯è¢«å¼•ç”¨ï¼› è¯¥æ•°æ®ç»“æž„ä¸­å‚¨å­˜çš„å€¼ç±»åž‹å±žæ€§ï¼Œä¹Ÿåº”è¯¥è¢«æ‹·è´ï¼Œè€Œä¸æ˜¯è¢«å¼•ç”¨ï¼› è¯¥æ•°æ®ç»“æž„ä¸éœ€è¦åŽ»ç»§æ‰¿å¦ä¸€ä¸ªæ—¢æœ‰ç±»åž‹çš„å±žæ€§æˆ–è€…è¡Œä¸ºã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python-åˆ‡ç‰‡ä½¿ç”¨è¯¦è§£]]></title>
    <url>%2F2017%2F05%2F20%2FPython%2Fbasics%2FPython-%E5%88%87%E7%89%87%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html</url>
    <content type="text"><![CDATA[åˆ‡ç‰‡å«ä¹‰ åˆ‡ç‰‡æ˜¯æŒ‡å¯¹æ“ä½œçš„å¯¹è±¡æˆªå–å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ“ä½œã€‚å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„éƒ½æ”¯æŒåˆ‡ç‰‡æ“ä½œã€‚ åˆ‡ç‰‡ä½¿ç”¨ åˆ‡ç‰‡çš„è¯­æ³•: [èµ·å§‹:ç»“æŸ:æ­¥é•¿] 123name = 'abcdef'print(name[0:3]) # å– ä¸‹æ ‡0~2 çš„å­—ç¬¦ 1. æˆªå–æ‰€æœ‰å­—ç¬¦ä¸²123456789name = 'abcdef'name[:] ``` #### 2. æˆªå–æœ€åŽä¸€ä¸ªå­—ç¬¦ä¸² ```Pythonname = 'abcdef'name[-1] 3. åè½¬å­—ç¬¦ä¸²ï¼š12name = 'abcdef'name[-1:0:-1] tipsæ­¥è¿›æ•°å€¼æ„å‘³ç€åˆ‡ç‰‡çš„æ–¹å‘åŠé•¿åº¦ - 1 å€’ç€åˆ‡ç‰‡ + 1 é»˜è®¤ï¼Œæ­£å¸¸åˆ‡ç‰‡ æ³¨æ„ï¼šé€‰å–çš„åŒºé—´å±žäºŽå·¦é—­å³å¼€åž‹ï¼Œå³ä»Žâ€èµ·å§‹â€ä½å¼€å§‹ï¼Œåˆ°â€ç»“æŸâ€ä½çš„å‰ä¸€ä½ç»“æŸï¼ˆä¸åŒ…å«ç»“æŸä½æœ¬èº«)ã€‚*]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python-stringä½¿ç”¨]]></title>
    <url>%2F2017%2F05%2F14%2Fpythonstring.html</url>
    <content type="text"><![CDATA[string å¸¸è§æ“ä½œ&#39;mystr = &#39;hello nilhy , This is Python demo&#39; findæ£€æµ‹ str æ˜¯å¦åŒ…å«åœ¨ mystr ä¸­ï¼Œå¦‚æžœæ˜¯è¿”å›žå¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›ž -1 12# è®°ä½,è¿”å›žçš„æ˜¯æ‰€åœ¨ä½ç½®ç´¢å¼•å€¼,æ²¡æ‰¾åˆ°å°±è¿”å›ž-1mystr.find(str, start=0, end=len(mystr)) indexè·Ÿfind()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æžœsträ¸åœ¨ mysträ¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸. 12# å¦‚æžœæ²¡æœ‰æ‰¾åˆ°,ä¼šæŠ›å‡ºå¼‚å¸¸'substring not found'mystr.index(str, start=0, end=len(mystr)) countè¿”å›ž stråœ¨startå’Œendä¹‹é—´ åœ¨ mystré‡Œé¢å‡ºçŽ°çš„æ¬¡æ•° 1mystr.count(str, start=0, end=len(mystr)) replaceæŠŠ mystr ä¸­çš„ str1 æ›¿æ¢æˆ str2,å¦‚æžœ count æŒ‡å®šï¼Œåˆ™æ›¿æ¢ä¸è¶…è¿‡ count æ¬¡. 12# è®°ä½è¿™é‡Œæ›¿æ¢ä¹‹åŽä¼šè¿”å›žä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²mystr.replace(str1, str2, mystr.count(str1)) splitä»¥ str ä¸ºåˆ†éš”ç¬¦åˆ‡ç‰‡ mystrï¼Œå¦‚æžœ maxsplitæœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…åˆ†éš” maxsplit ä¸ªå­å­—ç¬¦ä¸² 12# æŒ‰ç…§ç©ºæ ¼å­—ç¬¦ä¸²æ‹†åˆ†,å‚æ•°2ä¸ºæœ€å¤§æ‹†åˆ†æ•°mystr.split(str=" ", 2) capitalizeæŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™ 1mystr.capitalize() titleæŠŠå­—ç¬¦ä¸²çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ 123&gt;&gt;&gt; a = "hello jianshu"&gt;&gt;&gt; a.title()&gt;&gt;&gt; 'Hello Jianshu' startswithæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ obj å¼€å¤´, æ˜¯åˆ™è¿”å›ž Trueï¼Œå¦åˆ™è¿”å›ž False 1mystr.startswith(obj) endswithæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥objç»“æŸï¼Œå¦‚æžœæ˜¯è¿”å›žTrue,å¦åˆ™è¿”å›ž False. 1mystr.endswith(obj) lowerè½¬æ¢ mystr ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™ 1mystr.lower() upperè½¬æ¢ mystr ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™ 1mystr.upper() ljustè¿”å›žä¸€ä¸ªåŽŸå­—ç¬¦ä¸²å·¦å¯¹é½,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸² 1mystr.ljust(width) rjustè¿”å›žä¸€ä¸ªåŽŸå­—ç¬¦ä¸²å³å¯¹é½,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸² 1mystr.rjust(width) centerè¿”å›žä¸€ä¸ªåŽŸå­—ç¬¦ä¸²å±…ä¸­,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸² 1mystr.center(width) lstripåˆ é™¤ mystr å·¦è¾¹çš„ç©ºç™½å­—ç¬¦ 1mystr.lstrip() rstripåˆ é™¤ mystr å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºç™½å­—ç¬¦ 1mystr.rstrip() stripåˆ é™¤mystrå­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦ 1234# åªæ˜¯åŽ»é™¤ä¸¤ç«¯å­—ç¬¦ä¸²,å¦‚æžœ 'jian shu', ä¸­é—´å­˜åœ¨ç©ºæ ¼,åˆ™ä¸åŽ»é™¤ä¸­é—´çš„&gt;&gt;&gt; a = "\n\t jianshu \t\n"&gt;&gt;&gt; a.strip()&gt;&gt;&gt; 'jianshu' rfindç±»ä¼¼äºŽ find()å‡½æ•°ï¼Œä¸è¿‡æ˜¯ä»Žå³è¾¹å¼€å§‹æŸ¥æ‰¾. 1mystr.rfind(str, start=0,end=len(mystr) ) rindexç±»ä¼¼äºŽ index()ï¼Œä¸è¿‡æ˜¯ä»Žå³è¾¹å¼€å§‹. 1mystr.rindex( str, start=0,end=len(mystr)) partition(åˆ†åŒº, åˆ†æˆ3æ®µ)æŠŠmysträ»¥stråˆ†å‰²æˆä¸‰éƒ¨åˆ†,strå‰ï¼Œstr 12# è¿”å›žä¸€ä¸ªå…ƒç¥–, å‚æ•°æ˜¯æŒ‰ç…§é‚£ä¸ªå­—ç¬¦ä¸²åŽ»æ‹†åˆ†mystr.partition(str) rpartitionç±»ä¼¼äºŽ partition()å‡½æ•°,ä¸è¿‡æ˜¯ä»Žå³è¾¹å¼€å§‹. 12# ä»Žå³åˆ°å·¦,åˆ†ä¸‰æ®µmystr.rpartition(str) splitlinesæŒ‰ç…§è¡Œåˆ†éš”ï¼Œè¿”å›žä¸€ä¸ªåŒ…å«å„è¡Œä½œä¸ºå…ƒç´ çš„åˆ—è¡¨ 12# åˆ†å‰²çš„å­—ç¬¦ä¸²,æŒ‰ç…§\n åˆ†å‰²mystr.splitlines() isalphaå¦‚æžœ mystr æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯ åˆ™è¿”å›ž True,å¦åˆ™è¿”å›ž False 12# å¿…é¡»ä¸ºå­˜å­—ç¬¦, ç©ºæ ¼éƒ½å±žäºŽå…¶ä»–å­—ç¬¦,mystr.isalpha() isdigitå¦‚æžœ mystr åªåŒ…å«æ•°å­—åˆ™è¿”å›ž True å¦åˆ™è¿”å›ž False. 12# å¿…é¡»ä¸ºçº¯æ•°å­—, ç©ºæ ¼éƒ½å±žäºŽå…¶ä»–å­—ç¬¦,mystr.isdigit() isalnumå¦‚æžœ mystr æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–æ•°å­—åˆ™è¿”å›ž True,å¦åˆ™è¿”å›ž False 1mystr.isalnum() isspaceå¦‚æžœ mystr ä¸­åªèƒ½åŒ…å«ç©ºæ ¼ï¼Œåˆ™è¿”å›ž Trueï¼Œå¦åˆ™è¿”å›ž False. 1mystr.isspace() joinmystr ä¸­æ¯ä¸ªå­—ç¬¦åŽé¢æ’å…¥str,æž„é€ å‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² 123456# ç”¨æ³• : mystr.join(str)&gt;&gt;&gt; strs = ['my','name','is', 'hai']&gt;&gt;&gt; strSpace = ' '&gt;&gt;&gt; strSpace.join(strs)# ä»¥ä¸‹æ˜¯è¾“å‡ºç»“æžœ&gt;&gt;&gt; 'my name is hai' é—®é¢˜:ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²aStrï¼Œè¿”å›žä½¿ç”¨ç©ºæ ¼æˆ–è€…â€™\tâ€™åˆ†å‰²åŽçš„å€’æ•°ç¬¬äºŒä¸ªå­ä¸² 12345678testStr = 'haha nihao a \t heihei \t woshi nide \t hao \nnnn' # å³å¯ä»¥åŽ»é™¤ä»¥ä¸Šå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰è½¬ä¹‰å’Œç©ºæ ¼ç¬¦å· # 1. åŽ»é™¤\t \n ç©ºæ ¼strList = testStr.strip()# 2. å¾—åˆ°æ–°çš„å­—ç¬¦ä¸²,æ‹¼æŽ¥èµ·æ¥newStr = ''.join(strList)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objective-C-ä¸å®šå‚è¯¦è§£]]></title>
    <url>%2F2017%2F02%2F11%2FiOS%2FObjective-C%2FObjective-C-%E4%B8%8D%E5%AE%9A%E5%8F%82%E8%AF%A6%E8%A7%A3.html</url>
    <content type="text"><![CDATA[ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ª,ä¸‹é¢ä¼šæœ‰è¯¦ç»†çš„ç”¨æ³•å’Œè§£é‡Šã€ å¤§è‡´å«ä¹‰ : ä¸€ä¸ªå¯å˜å‚æ•°å‡½æ•°æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°æ‹¥æœ‰ä¸å®šçš„å‚æ•°ï¼Œå³ä¸ºä¸€ä¸ªå‡½æ•°å¯æŽ¥æ”¶å¤šä¸ªå‚æ•°ã€‚æœ‰æ—¶ä¼šé‡åˆ°ä¸€äº›ç®—æœ¯é—®é¢˜éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚æ˜¯è®¡ç®—ä¼ å…¥å‚æ•°çš„æ€»å’Œï¼Œå­—ç¬¦ä¸²çš„è¿žæŽ¥æˆ–æ˜¯å…¶å®ƒæ“ä½œè¿‡ç¨‹ï¼Œåœ¨ Objective-C é‡Œä¹Ÿç»å¸¸ä½¿ç”¨ï¼Œæœ€ç»å…¸çš„å°±æ˜¯ NSLogï¼ˆ C ä¸º printf ï¼‰ ï¼Œå®ƒå¯ä»¥æŒ‡å®šæ ¼å¼çš„è¾“å‡ºï¼Œæ ¼å¼åŒ–è¾“å‡ºçš„å†…å®¹. å½“ç„¶,ä¸å®šå‚æ•°,ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä»£æ›¿ã€‚åºŸè¯ä¸å¤šè¯´,ç›´æŽ¥ä¸Šä»£ç å¼€å¹²äº†â€¦.12345678910111213141516- (void)print:(NSString *)firstArg, ... NS_REQUIRES_NIL_TERMINATION &#123; if(firstArg) &#123; // 1.å®šä¹‰ä¸€ä¸ªæŒ‡å‘ä¸ªæ•°å¯å˜çš„å‚æ•°åˆ—è¡¨æŒ‡é’ˆ va_list args; // 2.ç”¨äºŽå­˜æ”¾å–å‡ºçš„å‚æ•° NSString *arg; // 3.åˆå§‹åŒ–å˜é‡åˆšå®šä¹‰çš„va_listå˜é‡ï¼Œè¿™ä¸ªå®çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç¬¬ä¸€ä¸ªå¯å˜å‚æ•°çš„å‰ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šçš„å‚æ•° va_start(args, firstArg); // 4.éåŽ†å…¨éƒ¨å‚æ•° va_argè¿”å›žå¯å˜çš„å‚æ•°(a_argçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä½ è¦è¿”å›žçš„å‚æ•°çš„ç±»åž‹) while ((arg = va_arg(args, NSString *))) &#123; NSLog(@"%@", arg); &#125; // æ¸…ç©ºå‚æ•°åˆ—è¡¨ï¼Œå¹¶ç½®å‚æ•°æŒ‡é’ˆargsæ— æ•ˆ va_end(args); &#125;&#125; ä¸‹é¢å°±æ˜¯æ¥è§£é‡Šå„ä¸ªæ–¹æ³•å’Œå‚æ•°çš„å«ä¹‰ va_list : ç”¨æ¥ä¿å­˜å® va_start ã€va_arg å’Œ va_endæ‰€éœ€ä¿¡æ¯çš„ä¸€ç§ç±»åž‹ã€‚ä¸ºäº†è®¿é—®å˜é•¿å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°ï¼Œå¿…é¡»å£°æ˜Ž va_list ç±»åž‹çš„ä¸€ä¸ªå¯¹è±¡ va_start : è®¿é—®å˜é•¿å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°ä¹‹å‰ä½¿ç”¨çš„å®ï¼Œå®ƒåˆå§‹åŒ–ç”¨va_listå£°æ˜Žçš„å¯¹è±¡ï¼Œåˆå§‹åŒ–ç»“æžœä¾›å®va_argå’Œva_endä½¿ç”¨ va_arg : å±•å¼€æˆä¸€ä¸ªè¡¨è¾¾å¼çš„å®ï¼Œè¯¥è¡¨è¾¾å¼å…·æœ‰å˜é•¿å‚æ•°åˆ—è¡¨ä¸­ä¸‹ä¸€ä¸ªå‚æ•°çš„å€¼å’Œç±»åž‹ã€‚æ¯æ¬¡è°ƒç”¨ va_arg éƒ½ä¼šä¿®æ”¹ï¼Œç”¨ va_list å£°æ˜Žçš„å¯¹è±¡ä»Žè€Œä½¿è¯¥å¯¹è±¡æŒ‡å‘å‚æ•°åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå‚æ•° va_end : è¯¥å®ä½¿ç¨‹åºèƒ½å¤Ÿä»Žå˜é•¿å‚æ•°åˆ—è¡¨ç”¨å® va_start å¼•ç”¨çš„å‡½æ•°ä¸­æ­£å¸¸è¿”å›ž NS_REQUIRES_NIL_TERMINATION : æ˜¯ä¸€ä¸ªå®ï¼Œç”¨äºŽç¼–è¯‘æ—¶éžnilç»“å°¾çš„æ£€æŸ¥ ä½¿ç”¨æ³¨æ„ åœ¨å¯å˜å‚æ•°é‡Œï¼Œæ‰€æœ‰å‚æ•°å‡ç”¨é€—å·éš”å¼€ å‚æ•°ç»“å°¾å¿…é¡»åŠ ä¸Šnilï¼Œè¡¨ç¤ºå‚æ•°ç»“æŸ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Objective-C</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objective-C-äº‹ä»¶å¤„ç†ä¸Žå¦‚ä½•èŽ·å¾—æœ€ä½³ç‚¹å‡»çš„View]]></title>
    <url>%2F2016%2F11%2F14%2FiOS%2FObjective-C%2FObjective-C-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E4%B8%8E%E5%A6%82%E4%BD%95%E8%8E%B7%E5%BE%97%E6%9C%80%E4%BD%B3%E7%82%B9%E5%87%BB%E7%9A%84View.html</url>
    <content type="text"><![CDATA[äº‹ä»¶çš„äº§ç”Ÿä¸Žä¼ é€’äº‹ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿä¸Žä¼ é€’çš„? å½“å‘ç”Ÿè§¦æ‘¸äº‹ä»¶çš„åŽ,ç³»ç»Ÿä¼šå°†è¯¥äº‹ä»¶åŠ å…¥åˆ°ä¸€ä¸ªç”±UIApplicationç®¡ç†çš„æ—¶é—´é˜Ÿåˆ—ä¸­,UIApplicationä¼šä»Žäº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„äº‹ä»¶,å¹¶å°†è¿™ä¸ªäº‹ä»¶åˆ†å‘ä¸‹åŽ»,ä»¥ä¾¿å¤„ç†,ä¸»çª—å£å³Window ä¼šåœ¨è§†å›¾å±‚æ¬¡ä¸­æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„è§†å›¾æ¥å¤„ç†è§¦æ‘¸äº‹ä»¶ è§¦æ‘¸äº‹ä»¶çš„ä¼ é€’æ˜¯ä»Žçˆ¶æŽ§ä»¶ä¼ é€’ç»™å­æŽ§ä»¶çš„,å¦‚æžœçˆ¶æŽ§ä»¶ä¸èƒ½æŽ¥å—äº‹ä»¶,åˆ™é‡Œé¢çš„æ‰€æœ‰å­æŽ§ä»¶ä¹Ÿä¸èƒ½æŽ¥æ”¶äº‹ä»¶ å½“ä¸€ä¸ªæŽ§ä»¶ä¸èƒ½æŽ¥å—äº‹ä»¶æ—¶,ä¸€èˆ¬æœ‰å‡ ç§æƒ…å†µ ä¸æŽ¥æ”¶ç”¨æˆ·äº¤äº’:userInteractionEnabled = NO å½“ä¸€ä¸ªæŽ§ä»¶éšè—æ—¶:Hidden = YES å½“ä¸€ä¸ªæŽ§ä»¶ä¸ºé€æ˜Žæ—¶ äº‹ä»¶çš„å“åº” ç”¨æˆ·ç‚¹å‡»å±å¹•äº§ç”Ÿçš„ä¸€ä¸ªè§¦æ‘¸äº‹ä»¶,ç»è¿‡ä¸€ç³»åˆ—çš„ä¼ é€’è¿‡ç¨‹åŽ,ä¼šæ‰¾åˆ°ä¸€ä¸ªæœ€é€‚åˆçš„è§†å›¾æ¥å¤„ç†äº‹ä»¶.æ‰¾åˆ°æœ€åˆé€‚çš„è§†å›¾æŽ§ä»¶åŽ,å°±ä¼šè°ƒç”¨æŽ§ä»¶çš„touchesæ–¹æ³•æ¥ä½œå…·ä½“çš„äº‹ä»¶å¤„ç†.touchesçš„é»˜è®¤åšæ³•æ˜¯å°†äº‹ä»¶é¡ºç€å“åº”è€…é“¾æ¡å‘ä¸Šä¼ é€’,å°†äº‹ä»¶äº¤ç»™ä¸Šä¸€ä¸ªå“åº”è€…å¤„ç† ä»€ä¹ˆæ˜¯å“åº”è€…é“¾æ¡? ç”±å¤šä¸ªå“åº”è€…å¯¹è±¡è¿žæŽ¥èµ·æ¥çš„é“¾æ¡ ä»€ä¹ˆæ˜¯å“åº”è€…å¯¹è±¡? ç»§æ‰¿äº†UIResponderçš„å¯¹è±¡ å¦‚ä½•åŽ»å¯»æ‰¾ä¸Šä¸€ä¸ªå“åº”è€… 1.å¦‚æžœå½“å‰çš„Viewæ˜¯æŽ§åˆ¶å™¨çš„View,é‚£ä¹ˆæŽ§åˆ¶å™¨å°±æ˜¯ä¸Šä¸€ä¸ªå“åº”è€… 2.å¦‚æžœå½“å‰çš„Viewä¸æ˜¯æŽ§åˆ¶å™¨çš„View,é‚£ä¹ˆä»–çš„çˆ¶æŽ§ä»¶å°±æ˜¯ä¸Šä¸€ä¸ªå“åº”è€… 3.åœ¨è§†å›¾å±‚æ¬¡ç»“æž„çš„æœ€é¡¶çº§è§†å›¾,å¦‚æžœä¹Ÿä¸èƒ½å¤„ç†æ”¶åˆ°çš„äº‹ä»¶æˆ–æ¶ˆæ¯,åˆ™å…¶å°†äº‹ä»¶æˆ–æ¶ˆæ¯ä¼ é€’ç»™windowå¯¹è±¡è¿›è¡Œå¤„ç† 4.å¦‚æžœwindowå¯¹è±¡ä¹Ÿä¸å¤„ç†ï¼Œåˆ™å…¶å°†äº‹ä»¶æˆ–æ¶ˆæ¯ä¼ é€’ç»™UIApplicationå¯¹è±¡ 5.å¦‚æžœUIApplicationä¹Ÿä¸èƒ½å¤„ç†è¯¥äº‹ä»¶æˆ–æ¶ˆæ¯ï¼Œåˆ™å°†å…¶ä¸¢å¼ƒ ç³»ç»Ÿæ˜¯å¦‚ä½•å¯»æ‰¾æœ€åˆé€‚çš„View* 1.å…ˆåˆ¤æ–­è‡ªå·±æ˜¯å¦èƒ½æŽ¥æ”¶è§¦æ‘¸äº‹ä»¶ 2.å†åˆ¤æ–­è§¦æ‘¸çš„å½“å‰ç‚¹åœ¨ä¸åœ¨è‡ªå·±èº«ä¸Š 3.å¦‚æžœåœ¨è‡ªå·±èº«ä¸Š,å®ƒä¼šä»ŽåŽå¾€å‰éåŽ†å­æŽ§ä»¶,éåŽ†å‡ºæ¯ä¸€ä¸ªæŽ§ä»¶åŽ,é‡å¯å‰ä¸¤æ­¥ 4.å¦‚æžœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­æŽ§ä»¶,é‚£ä¹ˆè‡ªèº«å°±æ˜¯æœ€åˆé€‚çš„View åœ¨å¯»æ‰¾æœ€åˆé€‚Viewçš„è¿‡ç¨‹ä¸­,ç³»ç»Ÿä¼šè°ƒç”¨2ä¸ªæ–¹æ³•123456789101112131415// ä½œç”¨:å¯»æ‰¾æœ€é€‚åˆçš„View// ä»€ä¹ˆæ—¶å€™è°ƒç”¨:å½“äº‹ä»¶ä¼ é€’ç»™å½“å‰Viewæ—¶å°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•- (UIView *) hitTest:(CGPoint)point withEvent:(UIEvent *)event &#123; UIView *fitView = [super hitTest:point withEvent:event]; NSLog(@"%@",fitView); return fitView;&#125;// ä½œç”¨:åˆ¤æ–­è§¦æ‘¸ç‚¹åœ¨ä¸åœ¨å½“å‰çš„Viewä¸Š.// ä»€ä¹ˆæ—¶å€™è°ƒç”¨:åœ¨hitTestæ–¹æ³•å½“ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•.// æ³¨æ„:pointå¿…é¡»å¾—è¦è·Ÿå½“å‰ViewåŒä¸€ä¸ªåæ ‡ç³».- (BOOL) pointInside:(CGPoint)point withEvent:(UIEvent *)event &#123; return YES;&#125; é‚£ä¹ˆhitTest: withEvent:æ–¹æ³•åº•å±‚æ˜¯å¦‚ä½•å®žçŽ°çš„å‘¢?12345678910111213141516171819202122// åˆ¤æ–­è‡ªå·±èƒ½å¦æŽ¥æ”¶äº‹ä»¶if (self.userInteractionEnabled == NO || self.hidden == YES || self.alpha &lt;= 0.01) &#123; return nil;&#125;// è§¦æ‘¸ç‚¹åœ¨ä¸åœ¨è‡ªå·±èº«ä¸Šif ([self pointInside:point withEvent:event] == NO) &#123; return nil;&#125;// ä»ŽåŽå¾€å‰éåŽ†è‡ªå·±çš„å­æŽ§ä»¶(é‡å¤å‰é¢çš„ä¸¤ä¸ªæ­¥éª¤)int count = (int)self.subviews.count;for (int i = count -1; i &gt;= 0; i--) &#123; UIView *childV = self.subviews[i]; // pointå¿…é¡»å¾—è¦è·ŸchildVç›¸åŒçš„åæ ‡ç³». // æŠŠpointè½¬æ¢childVåæ ‡ç³»ä¸Šé¢çš„ç‚¹ CGPoint childP = [self convertPoint:point toView:childV]; UIView *fitView = [childV hitTest:childP withEvent:event]; if (fitView) &#123; return fitView; &#125; &#125;// å¦‚æžœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­æŽ§ä»¶ï¼Œé‚£ä¹ˆå°±è‡ªå·±æœ€é€‚åˆå¤„ç†return self; åœ¨å¼€å‘ä¸­æˆ–å¤šæˆ–å°‘ä¼šéœ€è¦ä¸€äº›ç‰¹æ®Šçš„ç‚¹å‡»,è¿™é‡Œæœ‰2ä¸ªå°ä¾‹å­ä¾›å¤§å®¶å‚è€ƒ ä¸€ä¸ªæŒ‰é’®è¢«ä¸€ä¸ªåŠé€æ˜Žçš„Viewéƒ¨åˆ†é®æŒ¡,éœ€è¦ç‚¹å‡»åˆ°æŒ‰é’®çš„æ—¶å€™,æŒ‰é’®å§‹ç»ˆå“åº” ä¸€ä¸ªViewè¶…å‡ºäº†çˆ¶è§†å›¾çš„èŒƒå›´,éœ€è¦ç‚¹å‡»è¶…å‡ºèŒƒå›´çš„Viewä¹Ÿæœ‰å“åº” 123456789101112- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event &#123; //å½“è§¦æ‘¸ç‚¹åœ¨æŒ‰é’®ä¸Šçš„æ—¶å€™,æ‰è®©æŒ‰é’®åŽ»å“åº”äº‹ä»¶. //æŠŠå½“å‰ç‚¹è½¬æ¢æˆæŒ‰é’®åæ ‡ç³»ä¸Šçš„ç‚¹. CGPoint btnP = [self convertPoint:point toView:self.btn]; if ( [self.btn pointInside:btnP withEvent:event]) &#123; return self.btn; &#125;else&#123; return [super hitTest:point withEvent:event]; &#125;&#125;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Objective-C</tag>
      </tags>
  </entry>
</search>
